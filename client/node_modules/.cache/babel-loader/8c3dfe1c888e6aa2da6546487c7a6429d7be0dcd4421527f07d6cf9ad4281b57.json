{"ast":null,"code":"var _jsxFileName = \"/Users/mahiarahman/Documents/Harvard/classes/cs1060/hw6/redesigning_opportunity/client/src/components/OpportunityMap.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport ReactMapGL, { Marker, NavigationControl, Source, Layer, Popup } from 'react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport { Box, Typography } from '@mui/material';\n\n// Set the Mapbox access token\n// Using a public token for testing\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA';\nconst OpportunityMap = ({\n  neighborhoods\n}) => {\n  _s();\n  const [viewState, setViewState] = useState({\n    longitude: -74,\n    latitude: 40.7,\n    zoom: 9\n  });\n  const [popupInfo, setPopupInfo] = useState(null);\n  const [mapError, setMapError] = useState(null);\n\n  // Layer styles for neighborhoods\n  const fillLayer = {\n    id: 'neighborhood-fills',\n    type: 'fill',\n    paint: {\n      'fill-color': ['interpolate', ['linear'], ['get', 'opportunityScore'], 0, '#f7fbff', 2, '#d0e1f2', 4, '#94c4df', 6, '#4a98c9', 8, '#1764ab', 10, '#08306b'],\n      'fill-opacity': 0.7\n    }\n  };\n  const lineLayer = {\n    id: 'neighborhood-borders',\n    type: 'line',\n    paint: {\n      'line-color': '#000',\n      'line-width': 1\n    }\n  };\n\n  // Handle click on neighborhood\n  const onClick = useCallback(event => {\n    const {\n      features\n    } = event;\n    if (features && features.length > 0) {\n      const clickedFeature = features[0];\n      setPopupInfo({\n        longitude: event.lngLat.lng,\n        latitude: event.lngLat.lat,\n        properties: clickedFeature.properties\n      });\n    }\n  }, []);\n\n  // Handle errors\n  const onError = useCallback(error => {\n    console.error('Map error:', error);\n    setMapError(error.message);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      width: '100%',\n      height: '500px'\n    },\n    children: mapError ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px',\n        textAlign: 'center',\n        color: 'red'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Error loading map: \", mapError]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(ReactMapGL, {\n      ...viewState,\n      onMove: evt => setViewState(evt.viewState),\n      mapStyle: \"mapbox://styles/mapbox/light-v11\",\n      mapboxAccessToken: MAPBOX_TOKEN,\n      interactiveLayerIds: ['neighborhood-fills'],\n      onClick: onClick,\n      onError: onError,\n      style: {\n        width: '100%',\n        height: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(NavigationControl, {\n        position: \"top-right\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Marker, {\n        longitude: -74,\n        latitude: 40.7,\n        color: \"red\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), neighborhoods && /*#__PURE__*/_jsxDEV(Source, {\n        id: \"neighborhoods\",\n        type: \"geojson\",\n        data: neighborhoods,\n        children: [/*#__PURE__*/_jsxDEV(Layer, {\n          ...fillLayer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Layer, {\n          ...lineLayer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this), popupInfo && /*#__PURE__*/_jsxDEV(Popup, {\n        longitude: popupInfo.longitude,\n        latitude: popupInfo.latitude,\n        anchor: \"bottom\",\n        onClose: () => setPopupInfo(null),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: popupInfo.properties.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Opportunity Score: \", popupInfo.properties.opportunityScore]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"School Quality: \", popupInfo.properties.schoolQuality]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: popupInfo.properties.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(OpportunityMap, \"1iWD4ZKYxJ1iiTbELQb/6qvK/lc=\");\n_c = OpportunityMap;\nexport default OpportunityMap;\nvar _c;\n$RefreshReg$(_c, \"OpportunityMap\");","map":{"version":3,"names":["React","useState","useCallback","ReactMapGL","Marker","NavigationControl","Source","Layer","Popup","Box","Typography","jsxDEV","_jsxDEV","MAPBOX_TOKEN","OpportunityMap","neighborhoods","_s","viewState","setViewState","longitude","latitude","zoom","popupInfo","setPopupInfo","mapError","setMapError","fillLayer","id","type","paint","lineLayer","onClick","event","features","length","clickedFeature","lngLat","lng","lat","properties","onError","error","console","message","style","position","width","height","children","padding","textAlign","color","fileName","_jsxFileName","lineNumber","columnNumber","onMove","evt","mapStyle","mapboxAccessToken","interactiveLayerIds","data","anchor","onClose","name","opportunityScore","schoolQuality","description","_c","$RefreshReg$"],"sources":["/Users/mahiarahman/Documents/Harvard/classes/cs1060/hw6/redesigning_opportunity/client/src/components/OpportunityMap.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport ReactMapGL, { Marker, NavigationControl, Source, Layer, Popup } from 'react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport { Box, Typography } from '@mui/material';\n\n// Set the Mapbox access token\n// Using a public token for testing\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA';\n\nconst OpportunityMap = ({ neighborhoods }) => {\n  const [viewState, setViewState] = useState({\n    longitude: -74,\n    latitude: 40.7,\n    zoom: 9\n  });\n  \n  const [popupInfo, setPopupInfo] = useState(null);\n  const [mapError, setMapError] = useState(null);\n\n  // Layer styles for neighborhoods\n  const fillLayer = {\n    id: 'neighborhood-fills',\n    type: 'fill',\n    paint: {\n      'fill-color': [\n        'interpolate',\n        ['linear'],\n        ['get', 'opportunityScore'],\n        0, '#f7fbff',\n        2, '#d0e1f2',\n        4, '#94c4df',\n        6, '#4a98c9',\n        8, '#1764ab',\n        10, '#08306b'\n      ],\n      'fill-opacity': 0.7\n    }\n  };\n  \n  const lineLayer = {\n    id: 'neighborhood-borders',\n    type: 'line',\n    paint: {\n      'line-color': '#000',\n      'line-width': 1\n    }\n  };\n\n  // Handle click on neighborhood\n  const onClick = useCallback(event => {\n    const { features } = event;\n    if (features && features.length > 0) {\n      const clickedFeature = features[0];\n      setPopupInfo({\n        longitude: event.lngLat.lng,\n        latitude: event.lngLat.lat,\n        properties: clickedFeature.properties\n      });\n    }\n  }, []);\n\n  // Handle errors\n  const onError = useCallback(error => {\n    console.error('Map error:', error);\n    setMapError(error.message);\n  }, []);\n\n  return (\n    <div style={{ position: 'relative', width: '100%', height: '500px' }}>\n      {mapError ? (\n        <div style={{ padding: '20px', textAlign: 'center', color: 'red' }}>\n          <p>Error loading map: {mapError}</p>\n        </div>\n      ) : (\n        <ReactMapGL\n          {...viewState}\n          onMove={evt => setViewState(evt.viewState)}\n          mapStyle=\"mapbox://styles/mapbox/light-v11\"\n          mapboxAccessToken={MAPBOX_TOKEN}\n          interactiveLayerIds={['neighborhood-fills']}\n          onClick={onClick}\n          onError={onError}\n          style={{ width: '100%', height: '100%' }}\n        >\n          <NavigationControl position=\"top-right\" />\n          \n          {/* Add a marker for reference */}\n          <Marker longitude={-74} latitude={40.7} color=\"red\" />\n          \n          {/* Add neighborhoods data if available */}\n          {neighborhoods && (\n            <Source id=\"neighborhoods\" type=\"geojson\" data={neighborhoods}>\n              <Layer {...fillLayer} />\n              <Layer {...lineLayer} />\n            </Source>\n          )}\n          \n          {/* Show popup when a neighborhood is clicked */}\n          {popupInfo && (\n            <Popup\n              longitude={popupInfo.longitude}\n              latitude={popupInfo.latitude}\n              anchor=\"bottom\"\n              onClose={() => setPopupInfo(null)}\n            >\n              <div>\n                <h3>{popupInfo.properties.name}</h3>\n                <p>Opportunity Score: {popupInfo.properties.opportunityScore}</p>\n                <p>School Quality: {popupInfo.properties.schoolQuality}</p>\n                <p>{popupInfo.properties.description}</p>\n              </div>\n            </Popup>\n          )}\n        </ReactMapGL>\n      )}\n    </div>\n  );\n};\n\nexport default OpportunityMap;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}