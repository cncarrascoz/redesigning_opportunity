{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/mahiarahman/Documents/Harvard/classes/cs1060/hw8/redesigning_opportunity/src/components/Navbar.tsx"],"sourcesContent":["'use client'\n\nimport Link from 'next/link'\nimport { RefObject } from 'react'\n\ninterface NavbarProps {\n  progressBarRef: RefObject<HTMLDivElement>\n}\n\nexport default function Navbar({ progressBarRef }: NavbarProps) {\n  return (\n    <header className=\"fixed top-0 left-0 w-full bg-white z-50\">\n      <nav className=\"w-full mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between items-center h-16\">\n          <div className=\"text-primary text-3xl font-bold pl-4 md:pl-10\">Opportunity AI</div>\n          <div className=\"hidden md:flex space-x-8 pr-4 md:pr-10\">\n            <Link href=\"#welcome\" className=\"hover:text-primary transition-colors\">Welcome</Link>\n            <Link href=\"#quiz-section\" className=\"hover:text-primary transition-colors\">Assess</Link>\n            <Link href=\"#opportunity-map\" className=\"hover:text-primary transition-colors\">Opportunity Map</Link>\n            <Link href=\"#take-action\" className=\"hover:text-primary transition-colors\">Take Action</Link>\n            <Link href=\"#next-steps\" className=\"hover:text-primary transition-colors\">Next Steps</Link>\n            <Link href=\"#community-connections\" className=\"hover:text-primary transition-colors\">Community</Link>\n          </div>\n        </div>\n      </nav>\n      <div className=\"h-0.5 w-full bg-gray-100\">\n        <div className=\"h-full bg-primary w-0\" ref={progressBarRef}></div>\n      </div>\n    </header>\n  )\n}"],"names":[],"mappings":";;;;AAEA;AAFA;;;AASe,SAAS,OAAO,EAAE,cAAc,EAAe;IAC5D,qBACE,8OAAC;QAAO,WAAU;;0BAChB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCAAgD;;;;;;sCAC/D,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAW,WAAU;8CAAuC;;;;;;8CACvE,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAgB,WAAU;8CAAuC;;;;;;8CAC5E,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAmB,WAAU;8CAAuC;;;;;;8CAC/E,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAe,WAAU;8CAAuC;;;;;;8CAC3E,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAc,WAAU;8CAAuC;;;;;;8CAC1E,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAyB,WAAU;8CAAuC;;;;;;;;;;;;;;;;;;;;;;;0BAI3F,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;oBAAwB,KAAK;;;;;;;;;;;;;;;;;AAIpD"}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///Users/mahiarahman/Documents/Harvard/classes/cs1060/hw8/redesigning_opportunity/src/components/Welcome.tsx"],"sourcesContent":["'use client'\n\nimport { FaChevronDown } from 'react-icons/fa'\n\nconst Welcome = () => {\n  return (\n    <div id=\"welcome\" className=\"min-h-screen flex flex-col items-center justify-center text-center px-4 pt-20 pb-10\">\n      <div className=\"max-w-4xl mx-auto\">\n        <h1 className=\"text-5xl md:text-7xl font-bold text-primary mb-8\">Building Your Child&apos;s Future</h1>\n        \n        <p className=\"text-xl md:text-2xl font-semibold mb-12\">\n          A friendly guide to creating opportunities for your family!\n        </p>\n        \n        <div className=\"space-y-5 mb-16 text-lg\">\n          <p>Discover the bests places to live</p>\n          <p>Search for the best schools</p>\n          <p>Find local resources and community programs</p>\n        </div>\n        \n        <div className=\"mt-8 mb-12 space-y-2\">\n          <p className=\"text-xl font-semibold\">Let&apos;s take this journey together</p>\n          <p className=\"text-xl font-semibold\">one step at a time</p>\n        </div>\n        \n        <div \n          className=\"text-primary text-4xl mt-6 animate-bounce cursor-pointer hover:text-primary-dark transition-colors\"\n          onClick={() => {\n            const quizSection = document.getElementById('quiz-section');\n            if (quizSection) {\n              quizSection.scrollIntoView({ behavior: 'smooth' });\n            }\n          }}\n          aria-label=\"Scroll to assessment quiz\"\n          role=\"button\"\n          tabIndex={0}\n          onKeyDown={(e) => {\n            if (e.key === 'Enter' || e.key === ' ') {\n              const quizSection = document.getElementById('quiz-section');\n              if (quizSection) {\n                quizSection.scrollIntoView({ behavior: 'smooth' });\n              }\n            }\n          }}\n        >\n          {<FaChevronDown className=\"mx-auto\" />}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Welcome"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIA,MAAM,UAAU;IACd,qBACE,8OAAC;QAAI,IAAG;QAAU,WAAU;kBAC1B,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAmD;;;;;;8BAEjE,8OAAC;oBAAE,WAAU;8BAA0C;;;;;;8BAIvD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;sCAAE;;;;;;sCACH,8OAAC;sCAAE;;;;;;sCACH,8OAAC;sCAAE;;;;;;;;;;;;8BAGL,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAAwB;;;;;;sCACrC,8OAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;8BAGvC,8OAAC;oBACC,WAAU;oBACV,SAAS;wBACP,MAAM,cAAc,SAAS,cAAc,CAAC;wBAC5C,IAAI,aAAa;4BACf,YAAY,cAAc,CAAC;gCAAE,UAAU;4BAAS;wBAClD;oBACF;oBACA,cAAW;oBACX,MAAK;oBACL,UAAU;oBACV,WAAW,CAAC;wBACV,IAAI,EAAE,GAAG,KAAK,WAAW,EAAE,GAAG,KAAK,KAAK;4BACtC,MAAM,cAAc,SAAS,cAAc,CAAC;4BAC5C,IAAI,aAAa;gCACf,YAAY,cAAc,CAAC;oCAAE,UAAU;gCAAS;4BAClD;wBACF;oBACF;8BAEC,cAAA,8OAAC,8IAAA,CAAA,gBAAa;wBAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;AAKpC;uCAEe"}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///Users/mahiarahman/Documents/Harvard/classes/cs1060/hw8/redesigning_opportunity/src/components/AssessQuiz.tsx"],"sourcesContent":["'use client'\nimport { useState, createContext, useContext, ReactNode } from 'react';\nimport { FaChevronDown } from 'react-icons/fa';\n\n// Define all the types we need\ntype ChildInfo = {\n  name: string;\n  gender: string;\n  age: string;\n  ethnicity: string;\n};\n\nexport type AssessData = {\n  address: string;\n  income: string;\n  country: string;\n  children: ChildInfo[];\n  opportunityScore?: number | null;\n};\n\ninterface AssessContextType {\n  data: AssessData;\n  updateData: (data: Partial<AssessData>) => void;\n  setFullData: (data: AssessData) => void;\n}\n\n// Initial default values\nconst defaultData: AssessData = {\n  address: '',\n  income: '',\n  country: '',\n  children: [],\n  opportunityScore: null\n};\n\nconst AssessContext = createContext<AssessContextType | undefined>(undefined);\n\nexport function AssessProvider({ children }: { children: ReactNode }) {\n  const [data, setData] = useState<AssessData>(defaultData);\n\n  const updateData = (newData: Partial<AssessData>) => {\n    setData(prevData => ({\n      ...prevData,\n      ...newData\n    }));\n  };\n\n  const setFullData = (newData: AssessData) => {\n    setData(newData);\n  };\n\n  return (\n    <AssessContext.Provider value={{ data, updateData, setFullData }}>\n      {children}\n    </AssessContext.Provider>\n  );\n}\n\nexport function useAssessment() {\n  const context = useContext(AssessContext);\n  if (context === undefined) {\n    throw new Error('useAssessment must be used within an AssessProvider');\n  }\n  return context;\n}\n\n// Alias for backward compatibility\nexport const usePersonalization = useAssessment;\n\n// Alias for backward compatibility\nexport { AssessProvider as PersonalizationProvider };\n\nconst AssessYourCommunity = () => {\n  const { setFullData } = useAssessment();\n  \n  // Initialize formData with ALL fields, including address\n  const [formData, setFormData] = useState<AssessData>({\n    address: '',\n    income: '',\n    country: '',\n    children: [{ name: '', gender: '', age: '', ethnicity: '' }]\n  });\n  \n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n\n  const handleParentInfoChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    setFormData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n\n  const handleChildInfoChange = (index: number, e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    const key = name.split('-')[1]; // Extract the field name (name, gender, age, ethnicity)\n    \n    setFormData(prevData => {\n      const updatedChildren = [...prevData.children];\n      updatedChildren[index] = {\n        ...updatedChildren[index],\n        [key]: value\n      };\n      \n      return {\n        ...prevData,\n        children: updatedChildren\n      };\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    \n    try {\n      console.log('Submitting form data:', formData);\n      \n      // Save to context for use across the site\n      setFullData(formData);\n      \n      // Make the API call\n      const response = await fetch('/api/save-family-data', { \n        method: 'POST', \n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(formData) \n      });\n      \n      const result = await response.json();\n      console.log('API response:', result);\n      \n      // Show success state\n      setSubmitSuccess(true);\n      setTimeout(() => setSubmitSuccess(false), 3000); // Show checkmark for 3 seconds\n      \n      // Scroll to the map section after a short delay to ensure data is processed\n      setTimeout(() => {\n        const mapSection = document.getElementById('opportunity-map');\n        if (mapSection) {\n          mapSection.scrollIntoView({ behavior: 'smooth' });\n        }\n      }, 300);\n    } catch (error) {\n      console.error('Error submitting form:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div id=\"quiz-section\" className=\"min-h-screen px-4 py-16 max-w-4xl mx-auto scroll-mt-28\">\n      <div className=\"bg-white rounded-xl shadow-lg p-8 md:p-10\">\n        <div className=\"text-center mb-10\">\n          <h2 className=\"text-3xl md:text-4xl font-bold mb-2\">Assess Your Community</h2>\n          <p className=\"text-lg text-gray-600\">Help us provide personalized guidance for your family&apos;s future</p>\n        </div>\n        \n        <form onSubmit={handleSubmit} className=\"space-y-8\">\n          {/* Parent Information Section */}\n          <div className=\"space-y-6\">\n            <div className=\"flex items-center\">\n              <h3 className=\"text-xl font-semibold\">Parent Information</h3>\n              <div className=\"flex-grow ml-4 h-px bg-gray-200\"></div>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div className=\"space-y-2\">\n                <label htmlFor=\"address\" className=\"block text-sm font-medium\">\n                  Address<span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"address\"\n                  name=\"address\"\n                  value={formData.address || ''}\n                  onChange={handleParentInfoChange}\n                  placeholder=\"Enter your full address\"\n                  required\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent\"\n                />\n              </div>\n              \n              <div className=\"space-y-2\">\n                <label htmlFor=\"income\" className=\"block text-sm font-medium\">\n                  Annual Household Income<span className=\"text-red-500\">*</span>\n                </label>\n                <div className=\"relative\">\n                  <select\n                    id=\"income\"\n                    name=\"income\"\n                    value={formData.income || ''}\n                    onChange={handleParentInfoChange}\n                    required\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-md appearance-none focus:ring-2 focus:ring-primary focus:border-transparent\"\n                  >\n                    <option value=\"\">Select income range</option>\n                    <option value=\"<25k\">Less than $25,000</option>\n                    <option value=\"25-50k\">$25,000 - $50,000</option>\n                    <option value=\"50-75k\">$50,000 - $75,000</option>\n                    <option value=\"75-100k\">$75,000 - $100,000</option>\n                    <option value=\">100k\">More than $100,000</option>\n                  </select>\n                  <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n                    <FaChevronDown className=\"text-gray-400\" />\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"space-y-2\">\n                <label htmlFor=\"country\" className=\"block text-sm font-medium\">\n                  Country of Origin (Optional)\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"country\"\n                  name=\"country\"\n                  value={formData.country || ''}\n                  onChange={handleParentInfoChange}\n                  placeholder=\"Enter country\"\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent\"\n                />\n              </div>\n            </div>\n          </div>\n          \n          {/* Child Information Section */}\n          <div className=\"space-y-6\">\n            <div className=\"flex items-center\">\n              <h3 className=\"text-xl font-semibold\">Child Information</h3>\n              <div className=\"flex-grow ml-4 h-px bg-gray-200\"></div>\n            </div>\n            \n            {formData.children.map((child, index) => (\n              <div key={index} className=\"space-y-6\">\n                <h4 className=\"font-medium\">Child {index + 1}</h4>\n                \n                <div className=\"space-y-2\">\n                  <label htmlFor={`child${index}-name`} className=\"block text-sm font-medium\">\n                    Name<span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    id={`child${index}-name`}\n                    name={`child-name`}\n                    value={child.name || ''}\n                    onChange={(e) => handleChildInfoChange(index, e)}\n                    placeholder=\"Enter child's name\"\n                    required\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent\"\n                  />\n                </div>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                  <div className=\"space-y-2\">\n                    <label htmlFor={`child${index}-gender`} className=\"block text-sm font-medium\">\n                      Gender<span className=\"text-red-500\">*</span>\n                    </label>\n                    <div className=\"relative\">\n                      <select\n                        id={`child${index}-gender`}\n                        name={`child-gender`}\n                        value={child.gender || ''}\n                        onChange={(e) => handleChildInfoChange(index, e)}\n                        required\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-md appearance-none focus:ring-2 focus:ring-primary focus:border-transparent\"\n                      >\n                        <option value=\"\">Select gender</option>\n                        <option value=\"M\">Male</option>\n                        <option value=\"F\">Female</option>\n                      </select>\n                      <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n                        <FaChevronDown className=\"text-gray-400\" />\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div className=\"space-y-2\">\n                    <label htmlFor={`child${index}-age`} className=\"block text-sm font-medium\">\n                      Age<span className=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      type=\"number\"\n                      id={`child${index}-age`}\n                      name={`child-age`}\n                      value={child.age || ''}\n                      onChange={(e) => handleChildInfoChange(index, e)}\n                      placeholder=\"Enter age\"\n                      min=\"0\"\n                      max=\"18\"\n                      required\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent\"\n                    />\n                  </div>\n                  \n                  <div className=\"space-y-2\">\n                    <label htmlFor={`child${index}-ethnicity`} className=\"block text-sm font-medium\">\n                      Ethnicity<span className=\"text-red-500\">*</span>\n                    </label>\n                    <div className=\"relative\">\n                      <select\n                        id={`child${index}-ethnicity`}\n                        name={`child-ethnicity`}\n                        value={child.ethnicity || ''}\n                        onChange={(e) => handleChildInfoChange(index, e)}\n                        required\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-md appearance-none focus:ring-2 focus:ring-primary focus:border-transparent\"\n                      >\n                        <option value=\"\">Select ethnicity</option>\n                        <option value=\"W\">White</option>\n                        <option value=\"B\">Black</option>\n                        <option value=\"H\">Hispanic</option>\n                        <option value=\"A\">Asian</option>\n                        <option value=\"NA\">Native American</option>\n                      </select>\n                      <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n                        <FaChevronDown className=\"text-gray-400\" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n            \n            {/* Add Child Button */}\n            <div>\n              <button\n                type=\"button\"\n                onClick={() => setFormData(prev => ({\n                  ...prev,\n                  children: [...prev.children, { name: '', gender: '', age: '', ethnicity: '' }]\n                }))}\n                className=\"text-primary hover:text-primary-dark font-medium\"\n              >\n                + Add another child\n              </button>\n            </div>\n          </div>\n          \n          {/* No separate success message - using checkmark next to button */}\n          \n          {/* Submit Button */}\n          <div className=\"flex justify-center mt-10\">\n            <div className=\"relative inline-flex items-center\">\n              <button\n                type=\"submit\"\n                disabled={isSubmitting}\n                className={`bg-primary hover:bg-opacity-90 text-white py-3 px-12 rounded-full font-medium text-lg transition-all ${\n                  isSubmitting ? 'opacity-70 cursor-not-allowed' : ''\n                }`}\n              >\n                {isSubmitting ? (\n                  <span className=\"flex items-center justify-center\">\n                    <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                    </svg>\n                    Submitting...\n                  </span>\n                ) : 'Submit'}\n              </button>\n              \n              {/* Success Checkmark */}\n              {submitSuccess && (\n                <div className=\"ml-4 flex-shrink-0 w-8 h-8 rounded-full bg-primary flex items-center justify-center\">\n                  <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\"></path>\n                  </svg>\n                </div>\n              )}\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default AssessYourCommunity;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1170, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1176, "column": 0}, "map": {"version":3,"sources":["file:///Users/mahiarahman/Documents/Harvard/classes/cs1060/hw8/redesigning_opportunity/src/components/action-plan/Stay.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect } from 'react'\nimport { School } from 'lucide-react'\nimport { useAssessment, AssessData } from '../AssessQuiz'\n\n// Enhanced types for the recommendations data\ntype TownData = {\n  name: string;\n  website: string;\n  description: string;\n};\n\ntype SchoolData = {\n  name: string;\n  rating: number;\n  description: string;\n  website: string;\n  schoolType?: 'elementary' | 'middle' | 'high' | 'all'; // New field\n};\n\ntype CommunityProgramData = {\n  name: string;\n  description: string;\n  website: string;\n  ageRanges?: ('preschool' | 'elementary' | 'middle' | 'high' | 'all')[]; // New field\n  genderFocus?: 'all' | 'boys' | 'girls'; // New field\n  tags?: string[]; // New field\n};\n\ntype Recommendations = {\n  townData: TownData;\n  schoolData: SchoolData[];\n  communityProgramData: CommunityProgramData[];\n};\n\n// Default data to use as fallback\nconst defaultRecommendations: Recommendations = {\n  townData: {\n    name: 'Oakridge Community',\n    website: 'https://www.oakridgetownship.gov',\n    description: 'A growing suburban community committed to education and family development. Located in a region with diverse economic opportunities and strong community support.',\n  },\n  schoolData: [\n    {\n      name: 'Oakridge Elementary',\n      rating: 8.5,\n      description: 'A top-rated elementary school with advanced STEM programs and a strong focus on individualized learning.',\n      website: 'https://www.oakridgeelementary.edu',\n      schoolType: 'elementary'\n    },\n    {\n      name: 'Oakridge Middle School',\n      rating: 8.2,\n      description: 'A magnet school offering specialized programs in arts and technology, with small class sizes.',\n      website: 'https://www.oakridgemiddle.edu',\n      schoolType: 'middle'\n    },\n    {\n      name: 'Oakridge High School',\n      rating: 7.9,\n      description: 'A community-focused school with integrated enrichment programs and strong parent involvement.',\n      website: 'https://www.oakridgehigh.edu',\n      schoolType: 'high'\n    }\n  ],\n  communityProgramData: [\n    {\n      name: 'Youth Leadership Academy',\n      description: 'After-school program focusing on leadership skills, community service, and personal development.',\n      website: 'https://www.youthleadershipacademy.org',\n      ageRanges: ['elementary', 'middle', 'high'],\n      genderFocus: 'all',\n      tags: ['leadership', 'community']\n    },\n    {\n      name: 'STEM Explorers Club',\n      description: 'Hands-on science and technology program for curious young minds, with robotics and coding workshops.',\n      website: 'https://www.stemexplorers.edu',\n      ageRanges: ['elementary', 'middle'],\n      genderFocus: 'all',\n      tags: ['stem', 'technology', 'science']\n    },\n    {\n      name: 'Creative Arts Program',\n      description: 'Comprehensive arts education program offering music, visual arts, theater, and dance classes.',\n      website: 'https://www.creativeartsprogram.org',\n      ageRanges: ['elementary', 'middle', 'high'],\n      genderFocus: 'all',\n      tags: ['arts', 'creativity']\n    }\n  ]\n};\n\ninterface StayProps {\n  onSaveChoices?: (choices: {\n    town: string;\n    selectedSchool: string | null;\n    selectedCommunityPrograms: string[];\n  }) => void;\n  assessmentData?: AssessData; \n}\n\n// Helper function to determine appropriate school type based on child's age\nconst getSchoolTypeForAge = (age: number): 'elementary' | 'middle' | 'high' => {\n  if (age >= 5 && age <= 10) return 'elementary';\n  if (age >= 11 && age <= 13) return 'middle';\n  if (age >= 14) return 'high';\n  return 'elementary'; // Default to elementary for very young children\n};\n\n// Helper function to filter schools based on children's ages\nconst filterSchoolsByChildAge = (schools: SchoolData[], assessmentData: AssessData | undefined): SchoolData[] => {\n  // If no children data is available, return all schools\n  if (!assessmentData || !assessmentData.children || assessmentData.children.length === 0) {\n    return schools;\n  }\n\n  // Get school types needed for all children in the family\n  const neededSchoolTypes = assessmentData.children\n    .map(child => {\n      const age = parseInt(child.age);\n      return getSchoolTypeForAge(age);\n    })\n    .filter((value, index, self) => self.indexOf(value) === index); // Remove duplicates\n\n  // Filter schools that match any of the needed school types or are marked as 'all' (all grades)\n  return schools.filter(school => {\n    // If schoolType is undefined, don't include it\n    if (!school.schoolType) return false;\n    \n    // Now we know schoolType is defined, check if it's 'all' or in neededSchoolTypes\n    return school.schoolType === 'all' || \n           neededSchoolTypes.includes(school.schoolType as 'elementary' | 'middle' | 'high');\n  });\n};\n\n// Helper function to filter community programs based on children's profiles\nconst filterCommunityPrograms = (\n  programs: CommunityProgramData[], \n  assessmentData: AssessData | undefined\n): CommunityProgramData[] => {\n  // If no children data is available, return all programs\n  if (!assessmentData || !assessmentData.children || assessmentData.children.length === 0) {\n    return programs;\n  }\n\n  // Get age ranges needed for all children in the family\n  const childAgeRanges = assessmentData.children.map(child => {\n    const age = parseInt(child.age);\n    if (age >= 5 && age <= 10) return 'elementary';\n    if (age >= 11 && age <= 13) return 'middle';\n    if (age >= 14) return 'high';\n    return 'preschool'; // For very young children\n  });\n\n  // Get gender preferences\n  const hasGirlChild = assessmentData.children.some(child => child.gender === 'F');\n  const hasBoyChild = assessmentData.children.some(child => child.gender === 'M');\n\n  // Filter programs that match age ranges and gender considerations\n  return programs.filter(program => {\n    // If no age ranges are specified, include the program\n    if (!program.ageRanges || program.ageRanges.length === 0) return true;\n    \n    // At this point we know program.ageRanges exists and has elements\n    const ageRanges = program.ageRanges; // Store in a local variable to help TypeScript understand it's defined\n    \n    // Check if program serves any of the children's age ranges\n    const ageMatch = ageRanges.includes('all') || \n      childAgeRanges.some(age => {\n        // Convert the age string to the appropriate type for the includes check\n        const validAge = age as 'preschool' | 'elementary' | 'middle' | 'high';\n        return ageRanges.includes(validAge);\n      });\n    \n    // Check gender compatibility\n    const genderMatch = !program.genderFocus || \n      program.genderFocus === 'all' ||\n      (program.genderFocus === 'girls' && hasGirlChild) ||\n      (program.genderFocus === 'boys' && hasBoyChild);\n    \n    return ageMatch && genderMatch;\n  });\n};\n\n// Helper to infer school type if not provided\nconst inferSchoolType = (school: SchoolData): SchoolData => {\n  if (school.schoolType) return school;\n  \n  const name = school.name.toLowerCase();\n  let schoolType: 'elementary' | 'middle' | 'high' | 'all' = 'all';\n  \n  if (name.includes('elementary') || name.includes('primary')) {\n    schoolType = 'elementary';\n  } else if (name.includes('middle') || name.includes('junior')) {\n    schoolType = 'middle';\n  } else if (name.includes('high')) {\n    schoolType = 'high';\n  }\n  \n  return { ...school, schoolType };\n};\n\n// Helper to get school level message\nconst getSchoolLevelMessage = (assessmentData: AssessData | undefined): string => {\n  if (!assessmentData || !assessmentData.children || assessmentData.children.length === 0) {\n    return 'Showing all schools in the area';\n  }\n\n  const schoolTypes = assessmentData.children\n    .map(child => getSchoolTypeForAge(parseInt(child.age)))\n    .filter((value, index, self) => self.indexOf(value) === index); // Remove duplicates\n    \n  const typeLabels: Record<string, string> = {\n    elementary: 'elementary schools',\n    middle: 'middle schools',\n    high: 'high schools'\n  };\n  \n  const typeStrings = schoolTypes.map(type => typeLabels[type]);\n  \n  if (typeStrings.length === 1) {\n    return `Showing ${typeStrings[0]} based on your child's age`;\n  } else {\n    return `Showing ${typeStrings.join(' and ')} based on your children's ages`;\n  }\n};\n\n// Generate personalized advice based on the user's specific situation\nconst generatePersonalizedAdvice = (assessmentData: AssessData | undefined): string => {\n  if (!assessmentData) return '';\n  \n  const advice = [];\n  \n  // Age-specific advice\n  const hasYoungChild = assessmentData.children?.some(child => parseInt(child.age) <= 10);\n  const hasTeenager = assessmentData.children?.some(child => parseInt(child.age) >= 13);\n  \n  if (hasYoungChild) {\n    advice.push(\"For your younger child, look for schools with strong early literacy programs and supportive environments.\");\n  }\n  \n  if (hasTeenager) {\n    advice.push(\"For your teenager, consider schools with college prep programs, AP/IB courses, and strong counseling services.\");\n  }\n  \n  // Income-based advice\n  const lowerIncome = assessmentData.income === '<25k' || assessmentData.income === '25-50k';\n  const higherIncome = assessmentData.income === '>100k';\n  \n  if (lowerIncome) {\n    advice.push(\"Ask about free/reduced lunch programs, scholarship opportunities, and fee waivers for extracurricular activities.\");\n  }\n  \n  if (higherIncome) {\n    advice.push(\"Look for schools and programs that offer advanced enrichment opportunities and acceleration options.\");\n  }\n  \n  // Return the personalized advice\n  return advice.join(' ');\n};\n\nconst Stay: React.FC<StayProps> = ({ onSaveChoices, assessmentData }) => {\n  const [selectedSchool, setSelectedSchool] = useState<string | null>(null)\n  const [selectedCommunityPrograms, setSelectedCommunityPrograms] = useState<string[]>([])\n  const [recommendations, setRecommendations] = useState<Recommendations>(defaultRecommendations)\n  const [filteredSchools, setFilteredSchools] = useState<SchoolData[]>(defaultRecommendations.schoolData)\n  const [filteredPrograms, setFilteredPrograms] = useState<CommunityProgramData[]>(defaultRecommendations.communityProgramData)\n  const [isLoading, setIsLoading] = useState<boolean>(false)\n  const [error, setError] = useState<string | null>(null)\n  \n  // Get assessment data from context if not provided as prop\n  const assessmentContext = useAssessment()\n  const userData = assessmentData || assessmentContext.data\n\n  const handleSchoolSelect = (schoolName: string) => {\n    setSelectedSchool(schoolName)\n  }\n\n  const handleCommunityProgramToggle = (programName: string) => {\n    setSelectedCommunityPrograms(prev => \n      prev.includes(programName)\n        ? prev.filter(p => p !== programName)\n        : [...prev, programName]\n    )\n  }\n\n  const handleSaveChoices = () => {\n    if (onSaveChoices && selectedSchool && selectedCommunityPrograms.length > 0) {\n      const choices = {\n        town: recommendations.townData.name,\n        selectedSchool,\n        selectedCommunityPrograms\n      }\n      onSaveChoices(choices)\n    }\n  }\n  \n  // Fetch recommendations from OpenAI API\n  useEffect(() => {\n    const fetchRecommendations = async () => {\n      // Skip if no address is available\n      if (!userData?.address) {\n        setError('No address provided. Please complete the assessment form first.')\n        return\n      }\n      \n      setIsLoading(true)\n      setError(null)\n      \n      try {\n        const response = await fetch('/api/openai', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            address: userData.address,\n            income: userData.income,\n            children: userData.children\n          })\n        })\n        \n        if (!response.ok) {\n          const errorData = await response.json().catch(() => ({}));\n          throw new Error(\n            errorData.details || \n            `Failed to fetch recommendations: ${response.status} ${response.statusText}`\n          );\n        }\n        \n        const data = await response.json();\n        \n        // Ensure schoolType is present or infer it\n        const processedSchoolData = data.schoolData.map(inferSchoolType);\n        \n        // Apply filters based on child's age\n        const filteredSchoolData = filterSchoolsByChildAge(processedSchoolData, userData);\n        const filteredProgramData = filterCommunityPrograms(data.communityProgramData, userData);\n        \n        // Store both the complete and filtered data\n        setRecommendations({\n          ...data,\n          schoolData: processedSchoolData\n        });\n        \n        setFilteredSchools(filteredSchoolData);\n        setFilteredPrograms(filteredProgramData);\n      } catch (err) {\n        console.error('Error fetching recommendations:', err)\n        setError(`Failed to load personalized recommendations: ${err instanceof Error ? err.message : String(err)}. Using default data instead.`)\n        \n        // Fall back to default recommendations but apply filtering\n        const filteredDefaultSchools = filterSchoolsByChildAge(defaultRecommendations.schoolData, userData);\n        const filteredDefaultPrograms = filterCommunityPrograms(defaultRecommendations.communityProgramData, userData);\n        \n        setFilteredSchools(filteredDefaultSchools);\n        setFilteredPrograms(filteredDefaultPrograms);\n      } finally {\n        setIsLoading(false)\n      }\n    }\n    \n    fetchRecommendations()\n  }, [userData])\n\n  return (\n    <div className=\"space-y-12 mt-16\">\n      {isLoading ? (\n        <div className=\"flex flex-col items-center justify-center py-12\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#6CD9CA]\"></div>\n          <p className=\"mt-4 text-lg\">Loading personalized recommendations based on your address...</p>\n        </div>\n      ) : error ? (\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-6 text-center\">\n          <p className=\"text-red-600\">{error}</p>\n          <p className=\"mt-2\">Please make sure you&apos;ve completed the assessment form with your address.</p>\n        </div>\n      ) : (\n        <>\n          {/* Personalized Advice */}\n          {userData && (\n            <div className=\"bg-[#6CD9CA] bg-opacity-10 p-6 rounded-lg\">\n              <h3 className=\"text-xl font-semibold mb-2\">Personalized Advice</h3>\n              <p>{generatePersonalizedAdvice(userData)}</p>\n            </div>\n          )}\n\n          {/* Town Information */}\n          <div className=\"bg-white shadow-md rounded-lg p-6\">\n            <h3 className=\"text-2xl font-semibold mb-4 text-left\">Township Information</h3>\n            <div className=\"text-left space-y-2\">\n              <p><strong>Town Name:</strong> {recommendations.townData.name}</p>\n              <p>\n                <strong>Township Website:</strong>{' '}\n                <a \n                  href={recommendations.townData.website} \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\" \n                  className=\"text-[#6CD9CA] hover:underline\"\n                >\n                  {recommendations.townData.website}\n                </a>{' '}\n                <span className=\"text-sm text-gray-600\">\n                  (Click to learn more about local opportunities!)\n                </span>\n              </p>\n              <p><strong>Description:</strong> {recommendations.townData.description}</p>\n            </div>\n          </div>\n\n          {/* Local Schools */}\n          <div className=\"bg-white shadow-md rounded-lg p-6\">\n            <h3 className=\"text-2xl font-semibold mb-4\">Local Schools</h3>\n            <p className=\"mb-1\">Select a school that would be a good alternative:</p>\n            <p className=\"mb-4 text-sm text-gray-600\">{getSchoolLevelMessage(userData)}</p>\n            \n            {filteredSchools.length > 0 ? (\n              <div className=\"space-y-4\">\n                {filteredSchools.map((school) => (\n                  <div \n                    key={school.name}\n                    className={`\n                      border rounded-lg p-4 cursor-pointer transition-all duration-300 flex items-center\n                      ${selectedSchool === school.name \n                        ? 'border-[#6CD9CA] bg-[#6CD9CA] bg-opacity-10' \n                        : 'border-gray-200 hover:border-[#6CD9CA] hover:bg-[#6CD9CA] hover:bg-opacity-10'}\n                    `}\n                    onClick={() => handleSchoolSelect(school.name)}\n                  >\n                    <School className=\"mr-4 text-[#6CD9CA]\" size={24} />\n                    <div className=\"flex-grow flex justify-between items-center\">\n                      <div className=\"flex-grow\">\n                        <div className=\"flex items-center justify-between\">\n                          <h4 className=\"text-xl font-semibold\">{school.name}</h4>\n                          <div className=\"flex items-center\">\n                            <p className=\"text-sm text-gray-600 ml-4\">Rating: {school.rating}/10</p>\n                            {school.schoolType && (\n                              <span className=\"ml-2 px-2 py-0.5 bg-gray-100 rounded-full text-xs capitalize\">\n                                {school.schoolType}\n                              </span>\n                            )}\n                          </div>\n                        </div>\n                        <p className=\"mt-1\">{school.description}</p>\n                      </div>\n                      <a \n                        href={school.website} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\" \n                        className=\"text-[#6CD9CA] hover:underline ml-4\"\n                      >\n                        Website\n                      </a>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <p className=\"text-center text-gray-600 py-4\">\n                No schools matching your children&apos;s age profiles were found. Please try adjusting your search.\n              </p>\n            )}\n\n            {selectedSchool && (\n              <p className=\"mt-4 text-lg font-semibold\">\n                {selectedSchool} school looks like a great option for your child!\n              </p>\n            )}\n          </div>\n\n          {/* Community Programs */}\n          <div className=\"bg-white shadow-md rounded-lg p-6\">\n            <h3 className=\"text-2xl font-semibold mb-4\">Community Programs</h3>\n            <p className=\"mb-4\">Select community programs your child can be part of:</p>\n            \n            {filteredPrograms.length > 0 ? (\n              <div className=\"space-y-4\">\n                {filteredPrograms.map((program) => (\n                  <div \n                    key={program.name}\n                    className={`\n                      border rounded-lg p-4 cursor-pointer transition-all duration-300\n                      ${selectedCommunityPrograms.includes(program.name)\n                        ? 'border-[#6CD9CA] bg-[#6CD9CA] bg-opacity-10' \n                        : 'border-gray-200 hover:border-[#6CD9CA] hover:bg-[#6CD9CA] hover:bg-opacity-10'}\n                    `}\n                    onClick={() => handleCommunityProgramToggle(program.name)}\n                  >\n                    <div className=\"flex justify-between items-center\">\n                      <div>\n                        <h4 className=\"text-xl font-semibold\">{program.name}</h4>\n                      </div>\n                      <div className=\"flex items-center\">\n                        {program.genderFocus && program.genderFocus !== 'all' && (\n                          <span className=\"px-2 py-0.5 bg-gray-100 rounded-full text-xs mr-2 capitalize\">\n                            {program.genderFocus}\n                          </span>\n                        )}\n                        {program.ageRanges && program.ageRanges.length > 0 && program.ageRanges[0] !== 'all' && (\n                          <span className=\"px-2 py-0.5 bg-gray-100 rounded-full text-xs mr-2 capitalize\">\n                            {program.ageRanges.join(', ')}\n                          </span>\n                        )}\n                        <a \n                          href={program.website} \n                          target=\"_blank\" \n                          rel=\"noopener noreferrer\" \n                          className=\"text-[#6CD9CA] hover:underline\"\n                        >\n                          Website\n                        </a>\n                      </div>\n                    </div>\n                    <p className=\"mt-2\">{program.description}</p>\n                    {program.tags && program.tags.length > 0 && (\n                      <div className=\"mt-2 flex flex-wrap gap-1\">\n                        {program.tags.map(tag => (\n                          <span key={tag} className=\"px-2 py-0.5 bg-gray-100 rounded-full text-xs capitalize\">\n                            {tag}\n                          </span>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <p className=\"text-center text-gray-600 py-4\">\n                No community programs matching your children&apos;s profiles were found. Please try adjusting your search.\n              </p>\n            )}\n\n            {selectedCommunityPrograms.length > 0 && (\n              <p className=\"mt-4 text-lg font-semibold\">\n                {selectedCommunityPrograms.join(', ')} {selectedCommunityPrograms.length === 1 ? 'looks' : 'look'} like a great option for your child!\n              </p>\n            )}\n          </div>\n        </>\n      )}\n\n      {/* Save Choices Button */}\n      {selectedSchool && selectedCommunityPrograms.length > 0 && (\n        <div className=\"text-center\">\n          <button \n            onClick={handleSaveChoices}\n            className=\"bg-[#6CD9CA] text-white py-3 px-6 rounded-full text-lg font-semibold hover:bg-opacity-90 transition-colors\"\n          >\n            Save My Choices\n          </button>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Stay"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1978, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1984, "column": 0}, "map": {"version":3,"sources":["file:///Users/mahiarahman/Documents/Harvard/classes/cs1060/hw8/redesigning_opportunity/src/components/action-plan/Move.tsx"],"sourcesContent":["'use client'\nimport React, { useState, useEffect, useCallback } from 'react'\nimport { School, Home } from 'lucide-react'\nimport { useAssessment, AssessData } from '../AssessQuiz'\n\n// Define types for the recommendations data\ntype TownData = {\n  name: string;\n  website: string;\n  description: string;\n};\n\ntype Neighborhood = {\n  name: string;\n  score: number;\n  description: string;\n};\n\ntype NeighborhoodData = {\n  topNeighborhoods: Neighborhood[];\n};\n\ntype SchoolData = {\n  name: string;\n  rating: number;\n  description: string;\n  website: string;\n  schoolType?: 'elementary' | 'middle' | 'high' | 'all'; // New field\n};\n\ntype CommunityProgramData = {\n  name: string;\n  description: string;\n  website: string;\n  ageRanges?: ('preschool' | 'elementary' | 'middle' | 'high' | 'all')[]; // New field\n  genderFocus?: 'all' | 'boys' | 'girls'; // New field\n  tags?: string[]; // New field\n};\n\ntype EthnicGroup = {\n  group: string;\n  percentage: number;\n};\n\ntype EducationLevel = {\n  level: string;\n  percentage: number;\n};\n\ntype ReligiousGroup = {\n  religion: string;\n  percentage: number;\n};\n\ntype CommunityDemographics = {\n  population: number;\n  medianAge: number;\n  ethnicComposition: EthnicGroup[];\n  medianHousehold: number;\n  educationLevel: EducationLevel[];\n  religiousComposition?: ReligiousGroup[];\n};\n\ntype HousingOption = {\n  type: string;\n  priceRange: string;\n  averageSize: string;\n  description: string;\n  suitability?: number; // New field for family suitability score (1-5)\n};\n\ntype MoveRecommendations = {\n  townData: TownData;\n  neighborhoodData: NeighborhoodData;\n  schoolData: SchoolData[];\n  communityProgramData: CommunityProgramData[];\n  communityDemographics: CommunityDemographics;\n  housingOptions: HousingOption[];\n};\n\n// Default data to use as fallback\nconst defaultRecommendations: MoveRecommendations = {\n  townData: {\n    name: 'Arlington Heights',\n    website: 'https://www.arlingtonheights.gov',\n    description: 'A vibrant suburban community known for excellent educational opportunities and strong family support systems. Located in a region with diverse economic prospects and community-driven initiatives.',\n  },\n  neighborhoodData: {\n    topNeighborhoods: [\n      { name: 'Arlington Heights', score: 9.2, description: 'Family-friendly area with excellent schools' },\n      { name: 'Riverside Park', score: 8.7, description: 'Diverse community with great amenities' },\n      { name: 'Greenwood Estates', score: 8.5, description: 'Quiet suburban neighborhood with parks' }\n    ]\n  },\n  schoolData: [\n    {\n      name: 'Arlington Elementary',\n      rating: 9.0,\n      description: 'A top-rated elementary school with advanced educational programs and strong community involvement.',\n      website: 'https://www.arlingtonelementary.edu',\n      schoolType: 'elementary'\n    },\n    {\n      name: 'Riverside Middle School',\n      rating: 8.5,\n      description: 'Innovative middle school offering specialized STEM and arts programs with small class sizes.',\n      website: 'https://www.riversidems.edu',\n      schoolType: 'middle'\n    },\n    {\n      name: 'Greenwood High School',\n      rating: 8.3,\n      description: 'Community-focused high school with comprehensive enrichment programs and strong parent engagement.',\n      website: 'https://www.greenwoodhs.edu',\n      schoolType: 'high'\n    }\n  ],\n  communityProgramData: [\n    {\n      name: 'Arlington Youth Leadership',\n      description: 'Comprehensive youth development program focusing on leadership skills, community service, and personal growth.',\n      website: 'https://www.arlingtonyouth.org',\n      ageRanges: ['middle', 'high'],\n      tags: ['leadership', 'community']\n    },\n    {\n      name: 'STEM Innovators Club',\n      description: 'Advanced science and technology program for curious young minds, offering hands-on robotics, coding, and innovation workshops.',\n      website: 'https://www.steminnovators.edu',\n      ageRanges: ['elementary', 'middle'],\n      tags: ['stem', 'technology', 'science']\n    },\n    {\n      name: 'Creative Arts Academy',\n      description: 'Comprehensive arts education program offering in-depth training in music, visual arts, theater, and dance.',\n      website: 'https://www.creativearts.org',\n      ageRanges: ['elementary', 'middle', 'high'],\n      tags: ['arts', 'music', 'theater']\n    }\n  ],\n  communityDemographics: {\n    population: 45672,\n    medianAge: 38.5,\n    ethnicComposition: [\n      { group: 'White', percentage: 62 },\n      { group: 'Asian', percentage: 22 },\n      { group: 'Hispanic', percentage: 8 },\n      { group: 'Black', percentage: 5 },\n      { group: 'Other', percentage: 3 }\n    ],\n    medianHousehold: 112500,\n    educationLevel: [\n      { level: 'Bachelor\\'s or higher', percentage: 58 },\n      { level: 'Some College', percentage: 25 },\n      { level: 'High School', percentage: 12 },\n      { level: 'Less than High School', percentage: 5 }\n    ],\n    religiousComposition: [\n      { religion: 'Christian', percentage: 65 },\n      { religion: 'Non-religious', percentage: 18 },\n      { religion: 'Jewish', percentage: 8 },\n      { religion: 'Muslim', percentage: 5 },\n      { religion: 'Hindu', percentage: 3 },\n      { religion: 'Other', percentage: 1 }\n    ]\n  },\n  housingOptions: [\n    {\n      type: 'Single Family Home',\n      priceRange: '$450,000 - $750,000',\n      averageSize: '2,200 - 3,500 sq ft',\n      description: 'Spacious homes with yards, ideal for families',\n      suitability: 4\n    },\n    {\n      type: 'Townhouse',\n      priceRange: '$350,000 - $550,000',\n      averageSize: '1,500 - 2,200 sq ft',\n      description: 'Modern living with lower maintenance',\n      suitability: 3\n    },\n    {\n      type: 'Apartment',\n      priceRange: '$1,800 - $3,200/month',\n      averageSize: '800 - 1,500 sq ft',\n      description: 'Convenient options with amenities',\n      suitability: 2\n    }\n  ]\n};\n\ninterface MoveProps {\n  onSaveChoices?: (choices: {\n    town: string;\n    selectedSchool: string | null;\n    selectedCommunityPrograms: string[];\n    selectedNeighborhood?: string;\n    selectedHousingType?: string;\n  }) => void;\n  assessmentData?: AssessData; \n}\n\n// Helper functions\n// Helper function to determine appropriate school type based on child's age\nconst getSchoolTypeForAge = (age: number): 'elementary' | 'middle' | 'high' => {\n  if (age >= 5 && age <= 10) return 'elementary';\n  if (age >= 11 && age <= 13) return 'middle';\n  if (age >= 14) return 'high';\n  return 'elementary'; // Default to elementary for very young children\n};\n\n// Helper function to filter schools based on children's ages\nconst filterSchoolsByChildAge = (schools: SchoolData[], assessmentData: AssessData | undefined): SchoolData[] => {\n  // If no children data is available, return all schools\n  if (!assessmentData || !assessmentData.children || assessmentData.children.length === 0) {\n    return schools;\n  }\n\n  // Get school types needed for all children in the family\n  const neededSchoolTypes = assessmentData.children\n    .map(child => {\n      const age = parseInt(child.age);\n      return getSchoolTypeForAge(age);\n    })\n    .filter((value, index, self) => self.indexOf(value) === index); // Remove duplicates\n\n  // Filter schools that match any of the needed school types or are marked as 'all' (all grades)\n  return schools.filter(school => {\n    // If schoolType is undefined, don't include this school\n    if (!school.schoolType) return false;\n    // Include if it's 'all' or matches one of the needed types\n    return school.schoolType === 'all' || neededSchoolTypes.includes(school.schoolType);\n  });\n};\n\n// Helper function to filter community programs based on children's profiles\nconst filterCommunityPrograms = (\n  programs: CommunityProgramData[], \n  assessmentData: AssessData | undefined\n): CommunityProgramData[] => {\n  // If no children data is available, return all programs\n  if (!assessmentData || !assessmentData.children || assessmentData.children.length === 0) {\n    return programs;\n  }\n\n  // Get age ranges needed for all children in the family\n  const childAgeRanges = assessmentData.children.map(child => {\n    const age = parseInt(child.age);\n    if (age >= 5 && age <= 10) return 'elementary';\n    if (age >= 11 && age <= 13) return 'middle';\n    if (age >= 14) return 'high';\n    return 'preschool'; // For very young children\n  });\n\n  // Get gender preferences\n  const hasGirlChild = assessmentData.children.some(child => child.gender === 'F');\n  const hasBoyChild = assessmentData.children.some(child => child.gender === 'M');\n\n  // Filter programs that match age ranges and gender considerations\n  return programs.filter(program => {\n    // If no age ranges are specified, include the program\n    if (!program.ageRanges || program.ageRanges.length === 0) return true;\n    \n    // At this point we know program.ageRanges exists and has elements\n    // Check if program serves any of the children's age ranges\n    const ageMatch = program.ageRanges.includes('all') || \n      childAgeRanges.some(age => {\n        // Convert the age string to the appropriate type for the includes check\n        const validAge = age as 'preschool' | 'elementary' | 'middle' | 'high';\n        return program.ageRanges!.includes(validAge);\n      });\n    \n    // Check gender compatibility\n    const genderMatch = !program.genderFocus || \n      program.genderFocus === 'all' ||\n      (program.genderFocus === 'girls' && hasGirlChild) ||\n      (program.genderFocus === 'boys' && hasBoyChild);\n    \n    return ageMatch && genderMatch;\n  });\n};\n\n// Calculate housing suitability based on family characteristics\nconst filterHousingOptions = (\n  options: HousingOption[], \n  assessmentData: AssessData | undefined\n): HousingOption[] => {\n  // If no assessment data, return all options\n  if (!assessmentData) return options;\n  \n  // Calculate family size (parents + children)\n  const familySize = (assessmentData.children?.length || 0) + 2; // Assuming 2 parents\n  \n  // Tag each housing option with a suitability score\n  return options.map(option => {\n    let suitability = option.suitability || 3; // Base suitability score\n    \n    // Adjust based on family size\n    if (familySize >= 5 && option.type === 'Apartment') {\n      suitability -= 2; // Larger families may need more space than typical apartments\n    }\n    if (familySize <= 3 && option.type === 'Single Family Home') {\n      suitability -= 1; // Small families might find single family homes less economical\n    }\n    if (familySize >= 4 && option.type === 'Single Family Home') {\n      suitability += 1; // Larger families might benefit from single family homes\n    }\n    \n    // Adjust based on income\n    const incomeRange = assessmentData.income;\n    if (incomeRange === '<25k' && option.type === 'Single Family Home') {\n      suitability -= 2; // Lower income families might find single family homes less affordable\n    }\n    if (incomeRange === '>100k' && option.type === 'Apartment') {\n      suitability -= 1; // Higher income families might prefer more spacious options\n    }\n    \n    // Ensure suitability stays within 1-5 range\n    suitability = Math.max(1, Math.min(5, suitability));\n    \n    return {\n      ...option,\n      suitability\n    };\n  }).sort((a, b) => (b.suitability || 0) - (a.suitability || 0)); // Sort by suitability\n};\n\n// Helper to infer school type if not provided\nconst inferSchoolType = (school: SchoolData): SchoolData => {\n  if (school.schoolType) return school;\n  \n  const name = school.name.toLowerCase();\n  let schoolType: 'elementary' | 'middle' | 'high' | 'all' = 'all';\n  \n  if (name.includes('elementary') || name.includes('primary')) {\n    schoolType = 'elementary';\n  } else if (name.includes('middle') || name.includes('junior')) {\n    schoolType = 'middle';\n  } else if (name.includes('high')) {\n    schoolType = 'high';\n  }\n  \n  return { ...school, schoolType };\n};\n\n// Helper to get school level message\nconst getSchoolLevelMessage = (assessmentData: AssessData | undefined): string => {\n  if (!assessmentData || !assessmentData.children || assessmentData.children.length === 0) {\n    return 'Showing all schools in the area';\n  }\n\n  const schoolTypes = assessmentData.children\n    .map(child => getSchoolTypeForAge(parseInt(child.age)))\n    .filter((value, index, self) => self.indexOf(value) === index); // Remove duplicates\n    \n  const typeLabels: Record<string, string> = {\n    elementary: 'elementary schools',\n    middle: 'middle schools',\n    high: 'high schools'\n  };\n  \n  const typeStrings = schoolTypes.map(type => typeLabels[type]);\n  \n  if (typeStrings.length === 1) {\n    return `Showing ${typeStrings[0]} based on your child's age`;\n  } else {\n    return `Showing ${typeStrings.join(' and ')} based on your children's ages`;\n  }\n};\n\n// Generate personalized advice based on the user's specific situation\nconst generatePersonalizedAdvice = (assessmentData: AssessData | undefined): string => {\n  if (!assessmentData) return '';\n  \n  const advice = [];\n  \n  // Age-specific advice\n  const hasYoungChild = assessmentData.children?.some(child => parseInt(child.age) <= 10);\n  const hasTeenager = assessmentData.children?.some(child => parseInt(child.age) >= 13);\n  \n  if (hasYoungChild) {\n    advice.push(\"For your younger child, look for neighborhoods with parks, playgrounds, and strong elementary schools.\");\n  }\n  \n  if (hasTeenager) {\n    advice.push(\"For your teenager, consider areas with extracurricular activities, public transportation access, and college prep programs.\");\n  }\n  \n  // Income-based advice\n  const lowerIncome = assessmentData.income === '<25k' || assessmentData.income === '25-50k';\n  const higherIncome = assessmentData.income === '>100k';\n  \n  if (lowerIncome) {\n    advice.push(\"Consider areas with affordable housing options, good public transportation, and schools with strong support services.\");\n  }\n  \n  if (higherIncome) {\n    advice.push(\"Look for neighborhoods with high opportunity scores, excellent school districts, and enrichment resources.\");\n  }\n  \n  // Return the personalized advice\n  return advice.join(' ');\n};\n\nconst Move: React.FC<MoveProps> = ({ onSaveChoices, assessmentData }) => {\n  const [selectedSchool, setSelectedSchool] = useState<string | null>(null);\n  const [selectedCommunityPrograms, setSelectedCommunityPrograms] = useState<string[]>([]);\n  const [selectedNeighborhood, setSelectedNeighborhood] = useState<string | null>(null);\n  const [selectedHousingType, setSelectedHousingType] = useState<string | null>(null);\n  const [zipCode, setZipCode] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [recommendations, setRecommendations] = useState<MoveRecommendations>(defaultRecommendations);\n  const [filteredSchools, setFilteredSchools] = useState<SchoolData[]>([]);\n  const [filteredPrograms, setFilteredPrograms] = useState<CommunityProgramData[]>([]);\n  const [filteredHousingOptions, setFilteredHousingOptions] = useState<HousingOption[]>([]);\n  const [mapAddress, setMapAddress] = useState<string>('');\n  const [shouldFetchData, setShouldFetchData] = useState(false);\n  \n  // Get assessment data from context if not provided as prop\n  const assessmentContext = useAssessment();\n  const contextData = assessmentContext?.data;\n  const userData = assessmentData || contextData;\n\n  const handleSchoolSelect = (schoolName: string) => {\n    setSelectedSchool(schoolName);\n  };\n\n  const handleCommunityProgramToggle = (programName: string) => {\n    setSelectedCommunityPrograms(prev => \n      prev.includes(programName)\n        ? prev.filter(p => p !== programName)\n        : [...prev, programName]\n    );\n  };\n\n  const handleNeighborhoodSelect = (neighborhoodName: string) => {\n    setSelectedNeighborhood(neighborhoodName);\n    \n    // Update map address when neighborhood is selected\n    if (zipCode) {\n      setMapAddress(`${neighborhoodName}, ${zipCode}`);\n    }\n  };\n\n  const handleHousingTypeSelect = (housingType: string) => {\n    setSelectedHousingType(housingType);\n  };\n\n  const handleZipCodeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setZipCode(e.target.value);\n    // Set flag to fetch data when zipCode changes and length is at least 5\n    if (e.target.value.length >= 5) {\n      setShouldFetchData(true);\n    }\n  };\n  \n  // Fallback data in case the API call fails\n  const fallbackRecommendations = defaultRecommendations;\n\n  // Fetch personalized recommendations from OpenAI API\n  const fetchRecommendations = useCallback(async () => {\n    if (!zipCode || zipCode.length < 5) return;\n    \n    setLoading(true);\n    setError(null);\n    \n    try {\n      const data = userData || {};\n      const address = data.address || '';\n      const income = data.income || '<25k';\n      const children = data.children || [];\n      \n      // Update map address when zip code changes\n      setMapAddress(zipCode);\n      \n      const response = await fetch('/api/openai-move', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          address,\n          zipCode,\n          income,\n          children\n        })\n      });\n      \n      if (!response.ok) {\n        const errorMessage = `API returned status code ${response.status}: ${response.statusText}`;\n        console.error(`API error: ${errorMessage}`);\n        \n        try {\n          // Try to get more detailed error information from the response\n          const errorData = await response.json();\n          console.error('Error details:', errorData);\n          \n          if (errorData.details) {\n            console.error('API error details:', errorData.details);\n          }\n          \n          if (errorData.rawResponse) {\n            console.error('Raw API response:', errorData.rawResponse);\n          }\n          \n          // If we have valid JSON data in the error response that looks like recommendations,\n          // we can use it instead of falling back to default data\n          if (errorData.townData && errorData.schoolData) {\n            console.log('Found valid recommendation data in error response, using it');\n            \n            // Process the data we received\n            const filteredSchools = filterSchoolsByChildAge(errorData.schoolData, userData);\n            const filteredPrograms = filterCommunityPrograms(errorData.communityProgramData || [], userData);\n            const ratedHousingOptions = filterHousingOptions(errorData.housingOptions || [], userData);\n            \n            // Update state with the data from the error response\n            setFilteredSchools(filteredSchools);\n            setFilteredPrograms(filteredPrograms);\n            setFilteredHousingOptions(ratedHousingOptions);\n            setRecommendations(errorData);\n            \n            // Show a warning but don't treat it as a full error\n            setError(`Using recommendations from response despite API error: ${errorMessage}`);\n            setLoading(false);\n            \n            // Exit early from the function\n            return;\n          }\n        } catch (e) {\n          console.error('Could not parse error response:', e);\n        }\n        \n        // Apply filtering to fallback recommendations\n        const filteredDefaultSchools = filterSchoolsByChildAge(fallbackRecommendations.schoolData, userData);\n        const filteredDefaultPrograms = filterCommunityPrograms(fallbackRecommendations.communityProgramData, userData);\n        const ratedDefaultHousingOptions = filterHousingOptions(fallbackRecommendations.housingOptions, userData);\n        \n        // Update state with fallback data\n        setFilteredSchools(filteredDefaultSchools);\n        setFilteredPrograms(filteredDefaultPrograms);\n        setFilteredHousingOptions(ratedDefaultHousingOptions);\n        setRecommendations(fallbackRecommendations);\n        setError(`Using default recommendations. API error: ${errorMessage}`);\n        setLoading(false);\n        \n        // Exit early from the function\n        return;\n      }\n      \n      let recommendationsData;\n      try {\n        recommendationsData = await response.json();\n      } catch (jsonError) {\n        console.error('Error parsing API response as JSON:', jsonError);\n        \n        // Apply filtering to fallback recommendations\n        const filteredDefaultSchools = filterSchoolsByChildAge(fallbackRecommendations.schoolData, userData);\n        const filteredDefaultPrograms = filterCommunityPrograms(fallbackRecommendations.communityProgramData, userData);\n        const ratedDefaultHousingOptions = filterHousingOptions(fallbackRecommendations.housingOptions, userData);\n        \n        // Update state with fallback data\n        setFilteredSchools(filteredDefaultSchools);\n        setFilteredPrograms(filteredDefaultPrograms);\n        setFilteredHousingOptions(ratedDefaultHousingOptions);\n        setRecommendations(fallbackRecommendations);\n        setError('Could not parse API response. Using default recommendations instead.');\n        setLoading(false);\n        return;\n      }\n      \n      // Ensure the response has the expected structure\n      const validatedData: MoveRecommendations = {\n        townData: recommendationsData.townData || defaultRecommendations.townData,\n        neighborhoodData: {\n          topNeighborhoods: Array.isArray(recommendationsData.neighborhoodData?.topNeighborhoods) \n            ? recommendationsData.neighborhoodData.topNeighborhoods \n            : defaultRecommendations.neighborhoodData.topNeighborhoods\n        },\n        schoolData: Array.isArray(recommendationsData.schoolData) \n          ? recommendationsData.schoolData.map(inferSchoolType)\n          : defaultRecommendations.schoolData,\n        communityProgramData: Array.isArray(recommendationsData.communityProgramData) \n          ? recommendationsData.communityProgramData \n          : defaultRecommendations.communityProgramData,\n        communityDemographics: recommendationsData.communityDemographics || defaultRecommendations.communityDemographics,\n        housingOptions: Array.isArray(recommendationsData.housingOptions) \n          ? recommendationsData.housingOptions \n          : defaultRecommendations.housingOptions\n      };\n      \n      // Apply filters based on user data\n      const filteredSchoolData = filterSchoolsByChildAge(validatedData.schoolData, userData);\n      const filteredProgramData = filterCommunityPrograms(validatedData.communityProgramData, userData);\n      const ratedHousingOptions = filterHousingOptions(validatedData.housingOptions, userData);\n      \n      // Update state\n      setRecommendations(validatedData);\n      setFilteredSchools(filteredSchoolData);\n      setFilteredPrograms(filteredProgramData);\n      setFilteredHousingOptions(ratedHousingOptions);\n      \n    } catch (err) {\n      console.error('Error fetching move recommendations:', err);\n      setError(`Failed to fetch personalized recommendations: ${err instanceof Error ? err.message : String(err)}. Using default data instead.`);\n      \n      // Use fallback recommendations but apply filtering\n      const filteredDefaultSchools = filterSchoolsByChildAge(fallbackRecommendations.schoolData, userData);\n      const filteredDefaultPrograms = filterCommunityPrograms(fallbackRecommendations.communityProgramData, userData);\n      const ratedDefaultHousingOptions = filterHousingOptions(fallbackRecommendations.housingOptions, userData);\n      \n      setFilteredSchools(filteredDefaultSchools);\n      setFilteredPrograms(filteredDefaultPrograms);\n      setFilteredHousingOptions(ratedDefaultHousingOptions);\n      \n      // Use fallback recommendations\n      setRecommendations(fallbackRecommendations);\n    } finally {\n      setLoading(false);\n      // Reset the flag after fetching\n      setShouldFetchData(false);\n    }\n  }, [zipCode, userData, fallbackRecommendations]);\n  \n  // Trigger the API call when shouldFetchData is true\n  useEffect(() => {\n    if (shouldFetchData) {\n      fetchRecommendations();\n    }\n  }, [shouldFetchData, fetchRecommendations]);\n\n  const handleSaveChoices = () => {\n    if (onSaveChoices && selectedSchool && selectedCommunityPrograms.length > 0) {\n      const choices = {\n        town: recommendations.townData.name,\n        selectedSchool,\n        selectedCommunityPrograms,\n        selectedNeighborhood: selectedNeighborhood || undefined,\n        selectedHousingType: selectedHousingType || undefined\n      };\n      onSaveChoices(choices);\n    }\n  };\n\n  const hasRequiredSelections = \n    selectedSchool && \n    selectedCommunityPrograms.length > 0 && \n    zipCode && \n    selectedNeighborhood && \n    selectedHousingType;\n\n  // Safe number formatting function to handle undefined values\n  const formatNumber = (value: number | undefined | null): string => {\n    if (value === undefined || value === null) {\n      return 'N/A';\n    }\n    try {\n      return value.toLocaleString();\n    } catch (error) {\n      console.error('Error formatting number:', error);\n      return String(value || 'N/A');\n    }\n  };\n\n  // Ensure neighborhoods data is valid\n  const neighborhoods = Array.isArray(recommendations?.neighborhoodData?.topNeighborhoods) \n    ? recommendations.neighborhoodData.topNeighborhoods \n    : defaultRecommendations.neighborhoodData.topNeighborhoods;\n\n  return (\n    <div className=\"space-y-12 mt-16\">\n      {/* ZIP Code Input */}\n      <div className=\"bg-white shadow-md rounded-lg p-6 text-center\">\n        <h2 className=\"text-3xl font-bold mb-4\">Where Would You Like to Move?</h2>\n        <p className=\"text-xl mb-6\">Do you know where you want to live next?</p>\n        <div className=\"flex justify-center items-center\">\n          <label htmlFor=\"zipCode\" className=\"mr-4 text-lg\">Enter ZIP Code:</label>\n          <div className=\"relative\">\n            <input \n              type=\"text\" \n              id=\"zipCode\"\n              value={zipCode}\n              onChange={handleZipCodeChange}\n              placeholder=\"e.g. 22204\"\n              className=\"border-2 border-[#6CD9CA] rounded-md px-4 py-2 text-lg w-40\"\n              disabled={loading}\n            />\n            {loading && zipCode && (\n              <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\n                <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-[#6CD9CA]\"></div>\n              </div>\n            )}\n          </div>\n          {zipCode && !loading && (\n            <button \n              onClick={() => setShouldFetchData(true)}\n              className=\"ml-2 bg-[#6CD9CA] hover:bg-opacity-90 text-white py-2 px-4 rounded-md text-sm transition-colors\"\n            >\n              Update\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Render following sections only when ZIP code is entered */}\n      {zipCode && (\n        <>\n          {/* Loading State */}\n          {loading && (\n            <div className=\"bg-white shadow-md rounded-lg p-6 text-center\">\n              <div className=\"animate-pulse flex flex-col items-center\">\n                <div className=\"h-8 w-64 bg-gray-200 rounded mb-4\"></div>\n                <div className=\"h-4 w-full bg-gray-200 rounded mb-2\"></div>\n                <div className=\"h-4 w-5/6 bg-gray-200 rounded mb-2\"></div>\n                <div className=\"h-4 w-4/6 bg-gray-200 rounded\"></div>\n              </div>\n              <p className=\"mt-4 text-gray-600\">Fetching personalized recommendations for {zipCode}...</p>\n            </div>\n          )}\n          \n          {/* Error State */}\n          {error && !loading && (\n            <div className=\"bg-white shadow-md rounded-lg p-6 border-l-4 border-red-500\">\n              <h3 className=\"text-2xl font-semibold mb-4 text-left\">Notice</h3>\n              <p className=\"text-red-600 mb-4\">{error}</p>\n              <p className=\"mb-4\">We&apos;re showing you our default recommendations instead.</p>\n              <button \n                onClick={() => setShouldFetchData(true)}\n                className=\"bg-[#6CD9CA] hover:bg-opacity-90 text-white py-2 px-4 rounded-md text-sm transition-colors\"\n              >\n                Try Again\n              </button>\n            </div>\n          )}\n          \n          {/* Personalized Advice */}\n          {!loading && userData && (\n            <div className=\"bg-[#6CD9CA] bg-opacity-10 p-6 rounded-lg\">\n              <h3 className=\"text-xl font-semibold mb-2\">Personalized Advice</h3>\n              <p>{generatePersonalizedAdvice(userData)}</p>\n            </div>\n          )}\n          \n          {/* Town Information */}\n          {!loading && recommendations?.townData && (\n            <div className=\"bg-white shadow-md rounded-lg p-6\">\n              <h3 className=\"text-2xl font-semibold mb-4 text-left\">Township Information</h3>\n              <div className=\"text-left space-y-2\">\n                <p><strong>Town Name:</strong> {recommendations.townData.name}</p>\n                <p>\n                  <strong>Township Website:</strong>{' '}\n                  <a \n                    href={recommendations.townData.website} \n                    target=\"_blank\" \n                    rel=\"noopener noreferrer\" \n                    className=\"text-[#6CD9CA] hover:underline\"\n                  >\n                    {recommendations.townData.website}\n                  </a>{' '}\n                  <span className=\"text-sm text-gray-600\">\n                    (Click to learn more about local opportunities!)\n                  </span>\n                </p>\n                <p><strong>Description:</strong> {recommendations.townData.description}</p>\n              </div>\n            </div>\n          )}\n\n          {/* Local Schools */}\n          {!loading && filteredSchools.length > 0 && (\n            <div className=\"bg-white shadow-md rounded-lg p-6\">\n              <h3 className=\"text-2xl font-semibold mb-4\">Local Schools</h3>\n              <p className=\"mb-1\">Select a school that would be a good option:</p>\n              <p className=\"mb-4 text-sm text-gray-600\">{getSchoolLevelMessage(userData)}</p>\n              \n              <div className=\"space-y-4\">\n                {filteredSchools.map((school) => (\n                  <div \n                    key={school.name}\n                    className={`\n                      border rounded-lg p-4 cursor-pointer transition-all duration-300 flex items-center\n                      ${selectedSchool === school.name \n                        ? 'border-[#6CD9CA] bg-[#6CD9CA] bg-opacity-10' \n                        : 'border-gray-200 hover:border-[#6CD9CA] hover:bg-[#6CD9CA] hover:bg-opacity-10'}\n                    `}\n                    onClick={() => handleSchoolSelect(school.name)}\n                  >\n                    <School className=\"mr-4 text-[#6CD9CA]\" size={24} />\n                    <div className=\"flex-grow flex justify-between items-center\">\n                      <div className=\"flex-grow\">\n                        <div className=\"flex items-center justify-between\">\n                          <h4 className=\"text-xl font-semibold\">{school.name}</h4>\n                          <div className=\"flex items-center\">\n                            <p className=\"text-sm text-gray-600 ml-4\">Rating: {school.rating}/10</p>\n                            {school.schoolType && (\n                              <span className=\"ml-2 px-2 py-0.5 bg-gray-100 rounded-full text-xs capitalize\">\n                                {school.schoolType}\n                              </span>\n                            )}\n                          </div>\n                        </div>\n                        <p className=\"mt-1\">{school.description}</p>\n                      </div>\n                      <a \n                        href={school.website} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\" \n                        className=\"text-[#6CD9CA] hover:underline ml-4\"\n                      >\n                        Website\n                      </a>\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              {selectedSchool && (\n                <p className=\"mt-4 text-lg font-semibold\">\n                  {selectedSchool} school looks like a great option for your child!\n                </p>\n              )}\n            </div>\n          )}\n\n          {/* Community Programs */}\n          {!loading && filteredPrograms.length > 0 && (\n            <div className=\"bg-white shadow-md rounded-lg p-6\">\n              <h3 className=\"text-2xl font-semibold mb-4\">Community Programs</h3>\n              <p className=\"mb-4\">Select community programs your child can be part of:</p>\n              \n              <div className=\"space-y-4\">\n                {filteredPrograms.map((program) => (\n                  <div \n                    key={program.name}\n                    className={`\n                      border rounded-lg p-4 cursor-pointer transition-all duration-300\n                      ${selectedCommunityPrograms.includes(program.name)\n                        ? 'border-[#6CD9CA] bg-[#6CD9CA] bg-opacity-10' \n                        : 'border-gray-200 hover:border-[#6CD9CA] hover:bg-[#6CD9CA] hover:bg-opacity-10'}\n                    `}\n                    onClick={() => handleCommunityProgramToggle(program.name)}\n                  >\n                    <div className=\"flex justify-between items-center\">\n                      <div>\n                        <h4 className=\"text-xl font-semibold\">{program.name}</h4>\n                      </div>\n                      <div className=\"flex items-center\">\n                        {program.genderFocus && program.genderFocus !== 'all' && (\n                          <span className=\"px-2 py-0.5 bg-gray-100 rounded-full text-xs mr-2 capitalize\">\n                            {program.genderFocus}\n                          </span>\n                        )}\n                        {program.ageRanges && program.ageRanges.length > 0 && program.ageRanges[0] !== 'all' && (\n                          <span className=\"px-2 py-0.5 bg-gray-100 rounded-full text-xs mr-2 capitalize\">\n                            {program.ageRanges.join(', ')}\n                          </span>\n                        )}\n                        <a \n                          href={program.website} \n                          target=\"_blank\" \n                          rel=\"noopener noreferrer\" \n                          className=\"text-[#6CD9CA] hover:underline\"\n                        >\n                          Website\n                        </a>\n                      </div>\n                    </div>\n                    <p className=\"mt-2\">{program.description}</p>\n                    {program.tags && program.tags.length > 0 && (\n                      <div className=\"mt-2 flex flex-wrap gap-1\">\n                        {program.tags.map(tag => (\n                          <span key={tag} className=\"px-2 py-0.5 bg-gray-100 rounded-full text-xs capitalize\">\n                            {tag}\n                          </span>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n\n              {selectedCommunityPrograms.length > 0 && (\n                <p className=\"mt-4 text-lg font-semibold\">\n                  {selectedCommunityPrograms.join(', ')} {selectedCommunityPrograms.length === 1 ? 'looks' : 'look'} like a great option for your child!\n                </p>\n              )}\n            </div>\n          )}\n\n          {/* Community Demographics */}\n          {!loading && recommendations?.communityDemographics && (\n            <div className=\"bg-white shadow-md rounded-lg p-6\">\n              <h3 className=\"text-2xl font-semibold mb-6 text-center\">Community Demographics</h3>\n              \n              {/* ZIP Code Header */}\n              {zipCode && (\n                <h4 className=\"text-xl text-center mb-8\">\n                  In {zipCode}, {recommendations.communityDemographics.ethnicComposition.sort((a, b) => b.percentage - a.percentage)[0].group} make up the largest group at {recommendations.communityDemographics.ethnicComposition.sort((a, b) => b.percentage - a.percentage)[0].percentage}% of the population.\n                </h4>\n              )}\n              \n              {/* Ethnic Composition Visual */}\n              <div className=\"mb-10\">\n                <div className=\"flex justify-center items-end space-x-8 mb-4\">\n                  {Array.isArray(recommendations.communityDemographics.ethnicComposition) && \n                    recommendations.communityDemographics.ethnicComposition\n                      .sort((a, b) => b.percentage - a.percentage)\n                      .map((group) => {\n                        // Assign colors based on ethnic group using the provided color scheme\n                        let iconColor = \"text-[#729d9d]\";\n                        if (group.group && typeof group.group === 'string') {\n                          switch(group.group.toLowerCase()) {\n                            case \"hispanic\": iconColor = \"text-[#d07e59]\"; break; // accent3\n                            case \"white\": iconColor = \"text-[#9dbda9]\"; break; // accent8\n                            case \"black\": iconColor = \"text-[#b65441]\"; break; // accent2\n                            case \"asian\": iconColor = \"text-[#4f7f8b]\"; break; // accent10\n                            case \"other\": iconColor = \"text-[#9b252f]\"; break; // accent1\n                            default: iconColor = \"text-[#729d9d]\"; // accent9\n                          }\n                        }\n                        \n                        return (\n                          <div key={group.group} className=\"flex flex-col items-center\">\n                            <div className=\"flex\">\n                              {/* Create 5 person icons, with filled ones based on percentage */}\n                              {[...Array(5)].map((_, i) => (\n                                <div key={i} className={`mx-0.5 ${i < Math.ceil(group.percentage / 20) ? iconColor : \"text-gray-200\"}`}>\n                                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-6 h-6\">\n                                    <path fillRule=\"evenodd\" d=\"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z\" clipRule=\"evenodd\" />\n                                  </svg>\n                                </div>\n                              ))}\n                            </div>\n                            <div className=\"text-center mt-2\">\n                              <div className=\"font-medium\">{group.group}</div>\n                              <div className=\"text-xl font-bold\">{group.percentage}%</div>\n                            </div>\n                          </div>\n                        );\n                      })\n                  }\n                </div>\n              </div>\n              \n\n              \n              {/* Religious Composition */}\n              {Array.isArray(recommendations.communityDemographics.religiousComposition) && (\n                <div className=\"mt-8 mb-10\">\n                  <h4 className=\"text-xl font-semibold mb-6 text-center\">Religious Composition</h4>\n                  \n                  <div className=\"flex flex-wrap justify-center gap-4 mb-6\">\n                    {recommendations.communityDemographics.religiousComposition\n                      .sort((a, b) => b.percentage - a.percentage)\n                      .map((religionData) => {\n                        // Assign colors based on religion using the provided color scheme\n                        let iconColor = \"text-[#b65441]\"; // default color (accent2)\n                        let iconPath = \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"; // default path\n                        \n                        if (religionData.religion && typeof religionData.religion === 'string') {\n                          switch(religionData.religion.toLowerCase()) {\n                            case \"christian\": \n                              iconColor = \"text-[#34687e]\"; // accent11\n                              iconPath = \"M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z\";\n                              break;\n                            case \"jewish\": \n                              iconColor = \"text-[#4f7f8b]\"; // accent10\n                              iconPath = \"M12 22l-3.5-6.5L2 12l6.5-3.5L12 2l3.5 6.5L22 12l-6.5 3.5L12 22z\";\n                              break;\n                            case \"muslim\": \n                              iconColor = \"text-[#729d9d]\"; // accent9\n                              iconPath = \"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm0-18a8 8 0 100 16 8 8 0 000-16zm0 14a6 6 0 110-12 6 6 0 010 12zm-3-6a3 3 0 106 0 3 3 0 00-6 0z\";\n                              break;\n                            case \"hindu\": \n                              iconColor = \"text-[#d07e59]\"; // accent3\n                              iconPath = \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5-9h10v2H7v-2z\";\n                              break;\n                            case \"non-religious\": \n                              iconColor = \"text-[#9dbda9]\"; // accent8\n                              iconPath = \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\";\n                              break;\n                            default: \n                              iconColor = \"text-[#b65441]\"; // accent2\n                              iconPath = \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\";\n                          }\n                        }\n                        \n                        return (\n                          <div key={religionData.religion} className=\"flex flex-col items-center w-32\">\n                            <div className={`${iconColor} mb-2`}>\n                              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-12 h-12\">\n                                <path d={iconPath}></path>\n                              </svg>\n                            </div>\n                            <div className=\"text-center\">\n                              <div className=\"font-medium\">{religionData.religion}</div>\n                              <div className=\"text-xl font-bold\">{religionData.percentage}%</div>\n                            </div>\n                          </div>\n                        );\n                      })\n                    }\n                  </div>\n                  \n\n                </div>\n              )}\n              \n              {/* Additional Demographics */}\n              <div className=\"grid md:grid-cols-2 gap-6\">\n                <div>\n                  <h4 className=\"text-xl font-semibold mb-4\">Population Overview</h4>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex justify-between\">\n                      <span>Total Population:</span>\n                      <span>{formatNumber(recommendations.communityDemographics.population)}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span>Median Age:</span>\n                      <span>{recommendations.communityDemographics.medianAge || 'N/A'}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span>Median Household Income:</span>\n                      <span>${formatNumber(recommendations.communityDemographics.medianHousehold)}</span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <h4 className=\"text-xl font-semibold mb-4\">Education Levels</h4>\n                  <div className=\"space-y-2\">\n                    {Array.isArray(recommendations.communityDemographics.educationLevel) && \n                      recommendations.communityDemographics.educationLevel.map((level) => (\n                        <div key={level.level} className=\"flex justify-between\">\n                          <span>{level.level}</span>\n                          <span>{level.percentage}%</span>\n                        </div>\n                      ))}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Housing Options - UPDATED WITH SELECTION */}\n          {!loading && filteredHousingOptions.length > 0 && (\n            <div className=\"bg-white shadow-md rounded-lg p-6\">\n              <h3 className=\"text-2xl font-semibold mb-6 text-center\">Housing Options</h3>\n              <p className=\"mb-4 text-center\">Select a housing type you&apos;re interested in:</p>\n              \n              <div className=\"grid md:grid-cols-3 gap-6 mb-8\">\n                {filteredHousingOptions.map((option) => (\n                  <div \n                    key={option.type}\n                    className={`\n                      border rounded-lg p-4 cursor-pointer transition-all duration-300\n                      ${selectedHousingType === option.type \n                        ? 'border-[#6CD9CA] bg-[#6CD9CA] bg-opacity-10' \n                        : 'border-gray-200 hover:border-[#6CD9CA] hover:bg-[#6CD9CA] hover:bg-opacity-10'}\n                    `}\n                    onClick={() => handleHousingTypeSelect(option.type)}\n                  >\n                    <div className=\"flex justify-between items-center mb-2\">\n                      <h4 className=\"text-xl font-semibold\">{option.type}</h4>\n                      <div className=\"flex items-center\">\n                        <Home className=\"text-[#6CD9CA]\" size={20} />\n                        {option.suitability !== undefined && (\n                          <span className={`ml-2 px-2 py-1 rounded-full text-xs\n                            ${option.suitability >= 4 ? 'bg-green-100 text-green-800' : \n                             option.suitability >= 3 ? 'bg-blue-100 text-blue-800' : \n                             'bg-gray-100 text-gray-800'}`}>\n                            {option.suitability >= 4 ? 'Highly Suitable' : \n                             option.suitability >= 3 ? 'Suitable' : 'Less Suitable'}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"space-y-2 text-gray-700\">\n                      <p><strong>Price Range:</strong> {option.priceRange}</p>\n                      <p><strong>Size:</strong> {option.averageSize}</p>\n                      <p>{option.description}</p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              \n              {selectedHousingType && (\n                <p className=\"mt-4 mb-6 text-lg font-semibold text-center\">\n                  {selectedHousingType} seems like a good fit for your family!\n                </p>\n              )}\n              \n              <h4 className=\"text-xl font-semibold mb-6 text-center\">Find Housing On:</h4>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\n                <a \n                  href=\"https://www.redfin.com\" \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"group flex flex-col items-center justify-center bg-white hover:bg-[#6CD9CA] hover:bg-opacity-10 border border-gray-200 rounded-xl p-5 shadow-sm transition-all duration-300 hover:shadow-md\"\n                >\n                  <div className=\"w-12 h-12 mb-3 flex items-center justify-center rounded-full bg-[#6CD9CA] bg-opacity-20 text-[#6CD9CA] group-hover:bg-opacity-30 transition-all duration-300\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1h2a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1h3\" />\n                    </svg>\n                  </div>\n                  <span className=\"font-medium group-hover:text-[#6CD9CA] transition-colors duration-300\">Redfin</span>\n                </a>\n                <a \n                  href=\"https://www.zillow.com\" \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"group flex flex-col items-center justify-center bg-white hover:bg-[#6CD9CA] hover:bg-opacity-10 border border-gray-200 rounded-xl p-5 shadow-sm transition-all duration-300 hover:shadow-md\"\n                >\n                  <div className=\"w-12 h-12 mb-3 flex items-center justify-center rounded-full bg-[#6CD9CA] bg-opacity-20 text-[#6CD9CA] group-hover:bg-opacity-30 transition-all duration-300\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n                    </svg>\n                  </div>\n                  <span className=\"font-medium group-hover:text-[#6CD9CA] transition-colors duration-300\">Zillow</span>\n                </a>\n                <a \n                  href=\"https://www.hud.gov/program_offices/comm_planning/affordablehousing\" \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"group flex flex-col items-center justify-center bg-white hover:bg-[#6CD9CA] hover:bg-opacity-10 border border-gray-200 rounded-xl p-5 shadow-sm transition-all duration-300 hover:shadow-md\"\n                >\n                  <div className=\"w-12 h-12 mb-3 flex items-center justify-center rounded-full bg-[#6CD9CA] bg-opacity-20 text-[#6CD9CA] group-hover:bg-opacity-30 transition-all duration-300\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\n                    </svg>\n                  </div>\n                  <span className=\"font-medium group-hover:text-[#6CD9CA] transition-colors duration-300\">Affordable Housing</span>\n                </a>\n                <a \n                  href=\"https://www.craigslist.org\" \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"group flex flex-col items-center justify-center bg-white hover:bg-[#6CD9CA] hover:bg-opacity-10 border border-gray-200 rounded-xl p-5 shadow-sm transition-all duration-300 hover:shadow-md\"\n                >\n                  <div className=\"w-12 h-12 mb-3 flex items-center justify-center rounded-full bg-[#6CD9CA] bg-opacity-20 text-[#6CD9CA] group-hover:bg-opacity-30 transition-all duration-300\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                    </svg>\n                  </div>\n                  <span className=\"font-medium group-hover:text-[#6CD9CA] transition-colors duration-300\">Craigslist</span>\n                </a>\n              </div>\n            </div>\n          )}\n          \n          {/* Job Resources Section */}\n          {!loading && zipCode && (\n            <div className=\"bg-white shadow-md rounded-lg p-8 mt-8\">\n              <div className=\"text-center mb-8\">\n                <h3 className=\"text-3xl font-bold mb-2\">Job Resources</h3>\n                <p className=\"text-lg text-gray-600\">Find employment opportunities in your new area</p>\n              </div>\n              \n\n              \n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6 mb-10\">\n                <a \n                  href=\"https://www.indeed.com\" \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"group flex flex-col items-center justify-center bg-white hover:bg-[#6CD9CA] hover:bg-opacity-10 border border-gray-200 rounded-xl p-5 shadow-sm transition-all duration-300 hover:shadow-md\"\n                >\n                  <div className=\"w-12 h-12 mb-3 flex items-center justify-center rounded-full bg-[#6CD9CA] bg-opacity-20 text-[#6CD9CA] group-hover:bg-opacity-30 transition-all duration-300\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                    </svg>\n                  </div>\n                  <span className=\"font-medium group-hover:text-[#6CD9CA] transition-colors duration-300\">Indeed</span>\n                </a>\n                <a \n                  href=\"https://www.linkedin.com/jobs\" \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"group flex flex-col items-center justify-center bg-white hover:bg-[#6CD9CA] hover:bg-opacity-10 border border-gray-200 rounded-xl p-5 shadow-sm transition-all duration-300 hover:shadow-md\"\n                >\n                  <div className=\"w-12 h-12 mb-3 flex items-center justify-center rounded-full bg-[#6CD9CA] bg-opacity-20 text-[#6CD9CA] group-hover:bg-opacity-30 transition-all duration-300\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                    </svg>\n                  </div>\n                  <span className=\"font-medium group-hover:text-[#6CD9CA] transition-colors duration-300\">LinkedIn Jobs</span>\n                </a>\n                <a \n                  href=\"https://www.glassdoor.com\" \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"group flex flex-col items-center justify-center bg-white hover:bg-[#6CD9CA] hover:bg-opacity-10 border border-gray-200 rounded-xl p-5 shadow-sm transition-all duration-300 hover:shadow-md\"\n                >\n                  <div className=\"w-12 h-12 mb-3 flex items-center justify-center rounded-full bg-[#6CD9CA] bg-opacity-20 text-[#6CD9CA] group-hover:bg-opacity-30 transition-all duration-300\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\n                    </svg>\n                  </div>\n                  <span className=\"font-medium group-hover:text-[#6CD9CA] transition-colors duration-300\">Glassdoor</span>\n                </a>\n                <a \n                  href=\"https://www.usajobs.gov\" \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"group flex flex-col items-center justify-center bg-white hover:bg-[#6CD9CA] hover:bg-opacity-10 border border-gray-200 rounded-xl p-5 shadow-sm transition-all duration-300 hover:shadow-md\"\n                >\n                  <div className=\"w-12 h-12 mb-3 flex items-center justify-center rounded-full bg-[#6CD9CA] bg-opacity-20 text-[#6CD9CA] group-hover:bg-opacity-30 transition-all duration-300\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3\" />\n                    </svg>\n                  </div>\n                  <span className=\"font-medium group-hover:text-[#6CD9CA] transition-colors duration-300\">USA Jobs</span>\n                </a>\n              </div>\n              \n              <div className=\"text-center mb-6\">\n                <h4 className=\"text-2xl font-bold mb-2\">Local Resources</h4>\n                <p className=\"text-lg text-gray-600\">Connect with community services in your area</p>\n              </div>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <a \n                  href=\"https://www.careeronestop.org/LocalHelp/AmericanJobCenters/find-american-job-centers.aspx\" \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"group flex items-center bg-white hover:bg-[#6CD9CA] hover:bg-opacity-10 border border-gray-200 rounded-xl p-4 shadow-sm transition-all duration-300 hover:shadow-md\"\n                >\n                  <div className=\"w-10 h-10 mr-4 flex-shrink-0 flex items-center justify-center rounded-full bg-[#6CD9CA] bg-opacity-20 text-[#6CD9CA] group-hover:bg-opacity-30 transition-all duration-300\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n                    </svg>\n                  </div>\n                  <span className=\"font-medium group-hover:text-[#6CD9CA] transition-colors duration-300\">American Job Centers</span>\n                </a>\n                <a \n                  href=\"https://www.sba.gov/local-assistance\" \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"group flex items-center bg-white hover:bg-[#6CD9CA] hover:bg-opacity-10 border border-gray-200 rounded-xl p-4 shadow-sm transition-all duration-300 hover:shadow-md\"\n                >\n                  <div className=\"w-10 h-10 mr-4 flex-shrink-0 flex items-center justify-center rounded-full bg-[#6CD9CA] bg-opacity-20 text-[#6CD9CA] group-hover:bg-opacity-30 transition-all duration-300\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                  </div>\n                  <span className=\"font-medium group-hover:text-[#6CD9CA] transition-colors duration-300\">Small Business Resources</span>\n                </a>\n                <a \n                  href=\"https://www.meetup.com\" \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"group flex items-center bg-white hover:bg-[#6CD9CA] hover:bg-opacity-10 border border-gray-200 rounded-xl p-4 shadow-sm transition-all duration-300 hover:shadow-md\"\n                >\n                  <div className=\"w-10 h-10 mr-4 flex-shrink-0 flex items-center justify-center rounded-full bg-[#6CD9CA] bg-opacity-20 text-[#6CD9CA] group-hover:bg-opacity-30 transition-all duration-300\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                    </svg>\n                  </div>\n                  <span className=\"font-medium group-hover:text-[#6CD9CA] transition-colors duration-300\">Professional Meetups</span>\n                </a>\n              </div>\n            </div>\n          )}\n\n          {/* Save Choices Button */}\n          {hasRequiredSelections ? (\n            <div className=\"text-center\">\n              <button \n                onClick={handleSaveChoices}\n                className=\"bg-[#6CD9CA] text-white py-3 px-6 rounded-full text-lg font-semibold hover:bg-opacity-90 transition-colors\"\n              >\n                Save My Choices\n              </button>\n            </div>\n          ) : (\n            <div className=\"text-center text-gray-600\">\n              <p>Please select a neighborhood, school, housing type, and at least one community program to continue</p>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Move;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4389, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4395, "column": 0}, "map": {"version":3,"sources":["file:///Users/mahiarahman/Documents/Harvard/classes/cs1060/hw8/redesigning_opportunity/src/components/action-plan/ActionPlan.tsx"],"sourcesContent":["'use client'\nimport React, { useState } from 'react'\nimport Stay from './Stay'\nimport Move from './Move'\nimport { useAssessment } from '../AssessQuiz'\n\ninterface SavedChoices {\n  town: string;\n  selectedSchool: string | null;\n  selectedCommunityPrograms: string[];\n  selectedNeighborhood?: string;\n  selectedHousingType?: string;\n}\n\ninterface TakeActionProps {\n  onSaveActionAndChoices?: (action: 'stay' | 'move', choices: SavedChoices) => void;\n}\n\nconst TakeAction: React.FC<TakeActionProps> = ({ onSaveActionAndChoices }) => {\n  const [selectedAction, setSelectedAction] = useState<'stay' | 'move' | null>(null)\n  const [savedChoices, setSavedChoices] = useState<SavedChoices | null>(null)\n  \n  // Get assessment data from context\n  const { data: assessmentData } = useAssessment()\n  \n  const handleActionSelect = (action: 'stay' | 'move') => {\n    setSelectedAction(action)\n  }\n  \n  const handleSaveChoices = (choices: SavedChoices) => {\n    setSavedChoices(choices)\n    \n    // Pass choices up to parent component along with selected action\n    if (onSaveActionAndChoices && selectedAction) {\n      onSaveActionAndChoices(selectedAction, choices)\n    }\n  }\n  \n  return (\n    <div \n      id=\"take-action\" \n      className=\"min-h-screen px-4 py-10 max-w-6xl mx-auto scroll-mt-20\"\n    >\n      <div className=\"text-center mb-12\">\n        <h1 className=\"text-3xl md:text-4xl font-bold mb-2\">Take Action</h1>\n        <p className=\"text-xl\">Based on your community&apos;s opportunity score, here are some actions you can consider.</p>\n      </div>\n      <div className=\"mt-16 text-center\">\n        <h2 className=\"text-2xl md:text-3xl font-semibold mb-6\">What would you like to do?</h2>\n        \n        <div className=\"flex flex-col md:flex-row justify-center space-y-6 md:space-y-0 md:space-x-8\">\n          {/* Stay & Improve Option */}\n          <div \n            className={`\n              w-full max-w-md p-6 rounded-lg shadow-md cursor-pointer transition-all duration-300 bg-white\n              ${selectedAction === 'stay' \n                ? 'border-4 border-[#6CD9CA] scale-105' \n                : 'hover:shadow-xl hover:bg-[#6CD9CA] hover:bg-opacity-10'}\n            `}\n            onClick={() => handleActionSelect('stay')}\n          >\n            <h3 className=\"text-2xl font-bold mb-4\">Stay & Improve</h3>\n            <p className=\"mb-4\">Work with your community to improve opportunities:</p>\n            <ul className=\"list-disc list-inside mb-6 text-left\">\n              <li>Join the PTA or school board</li>\n              <li>Advocate for better community programs</li>\n              <li>Connect with local representatives</li>\n              <li>Start community initiatives</li>\n            </ul>\n            <button \n              className={`\n                w-full py-3 rounded-full text-white font-semibold transition-colors duration-300\n                ${selectedAction === 'stay' \n                  ? 'bg-[#6CD9CA]' \n                  : 'bg-[#6CD9CA] bg-opacity-70 hover:bg-opacity-100'}\n              `}\n              onClick={() => handleActionSelect('stay')}\n            >\n              Choose This Option\n            </button>\n          </div>\n          {/* Explore New Areas Option */}\n          <div \n            className={`\n              w-full max-w-md p-6 rounded-lg shadow-md cursor-pointer transition-all duration-300 bg-white\n              ${selectedAction === 'move' \n                ? 'border-4 border-[#6CD9CA] scale-105' \n                : 'hover:shadow-xl hover:bg-[#6CD9CA] hover:bg-opacity-10'}\n            `}\n            onClick={() => handleActionSelect('move')}\n          >\n            <h3 className=\"text-2xl font-bold mb-4\">Explore New Areas</h3>\n            <p className=\"mb-4\">Find communities with better opportunities:</p>\n            <ul className=\"list-disc list-inside mb-6 text-left\">\n              <li>Compare different neighborhoods</li>\n              <li>Find better schools</li>\n              <li>Discover available resources</li>\n              <li>Plan your move</li>\n            </ul>\n            <button \n              className={`\n                w-full py-3 rounded-full text-white font-semibold transition-colors duration-300\n                ${selectedAction === 'move' \n                  ? 'bg-[#6CD9CA]' \n                  : 'bg-[#6CD9CA] bg-opacity-70 hover:bg-opacity-100'}\n              `}\n              onClick={() => handleActionSelect('move')}\n            >\n              Choose This Option\n            </button>\n          </div>\n        </div>\n        {/* Action Details Section (conditionally rendered) */}\n        {selectedAction === 'stay' && (\n          <Stay onSaveChoices={handleSaveChoices} assessmentData={assessmentData} />\n        )}\n        {selectedAction === 'move' && (\n          <Move onSaveChoices={handleSaveChoices} assessmentData={assessmentData} />\n        )}\n        {/* Saved Choices Summary */}\n        {savedChoices && (\n          <div className=\"mt-12 bg-[#6CD9CA] bg-opacity-10 p-6 rounded-lg\">\n            <h3 className=\"text-2xl font-semibold mb-4\">Your Saved Choices</h3>\n            <div className=\"space-y-2\">\n              <p><strong>Town:</strong> {savedChoices.town}</p>\n              {selectedAction === 'move' && savedChoices.selectedNeighborhood && (\n                <p><strong>Selected Neighborhood:</strong> {savedChoices.selectedNeighborhood}</p>\n              )}\n              <p><strong>Selected School:</strong> {savedChoices.selectedSchool}</p>\n              <p>\n                <strong>Selected Community Programs:</strong>{' '}\n                {savedChoices.selectedCommunityPrograms.join(', ')}\n              </p>\n              {selectedAction === 'move' && savedChoices.selectedHousingType && (\n                <p><strong>Housing Type:</strong> {savedChoices.selectedHousingType}</p>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default TakeAction"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAkBA,MAAM,aAAwC,CAAC,EAAE,sBAAsB,EAAE;IACvE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA0B;IAC7E,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAuB;IAEtE,mCAAmC;IACnC,MAAM,EAAE,MAAM,cAAc,EAAE,GAAG,CAAA,GAAA,gIAAA,CAAA,gBAAa,AAAD;IAE7C,MAAM,qBAAqB,CAAC;QAC1B,kBAAkB;IACpB;IAEA,MAAM,oBAAoB,CAAC;QACzB,gBAAgB;QAEhB,iEAAiE;QACjE,IAAI,0BAA0B,gBAAgB;YAC5C,uBAAuB,gBAAgB;QACzC;IACF;IAEA,qBACE,8OAAC;QACC,IAAG;QACH,WAAU;;0BAEV,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAsC;;;;;;kCACpD,8OAAC;wBAAE,WAAU;kCAAU;;;;;;;;;;;;0BAEzB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA0C;;;;;;kCAExD,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC;gCACC,WAAW,CAAC;;cAEV,EAAE,mBAAmB,SACjB,wCACA,yDAAyD;YAC/D,CAAC;gCACD,SAAS,IAAM,mBAAmB;;kDAElC,8OAAC;wCAAG,WAAU;kDAA0B;;;;;;kDACxC,8OAAC;wCAAE,WAAU;kDAAO;;;;;;kDACpB,8OAAC;wCAAG,WAAU;;0DACZ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;;;;;;;kDAEN,8OAAC;wCACC,WAAW,CAAC;;gBAEV,EAAE,mBAAmB,SACjB,iBACA,kDAAkD;cACxD,CAAC;wCACD,SAAS,IAAM,mBAAmB;kDACnC;;;;;;;;;;;;0CAKH,8OAAC;gCACC,WAAW,CAAC;;cAEV,EAAE,mBAAmB,SACjB,wCACA,yDAAyD;YAC/D,CAAC;gCACD,SAAS,IAAM,mBAAmB;;kDAElC,8OAAC;wCAAG,WAAU;kDAA0B;;;;;;kDACxC,8OAAC;wCAAE,WAAU;kDAAO;;;;;;kDACpB,8OAAC;wCAAG,WAAU;;0DACZ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;;;;;;;kDAEN,8OAAC;wCACC,WAAW,CAAC;;gBAEV,EAAE,mBAAmB,SACjB,iBACA,kDAAkD;cACxD,CAAC;wCACD,SAAS,IAAM,mBAAmB;kDACnC;;;;;;;;;;;;;;;;;;oBAMJ,mBAAmB,wBAClB,8OAAC,4IAAA,CAAA,UAAI;wBAAC,eAAe;wBAAmB,gBAAgB;;;;;;oBAEzD,mBAAmB,wBAClB,8OAAC,4IAAA,CAAA,UAAI;wBAAC,eAAe;wBAAmB,gBAAgB;;;;;;oBAGzD,8BACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAA8B;;;;;;0CAC5C,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;;0DAAE,8OAAC;0DAAO;;;;;;4CAAc;4CAAE,aAAa,IAAI;;;;;;;oCAC3C,mBAAmB,UAAU,aAAa,oBAAoB,kBAC7D,8OAAC;;0DAAE,8OAAC;0DAAO;;;;;;4CAA+B;4CAAE,aAAa,oBAAoB;;;;;;;kDAE/E,8OAAC;;0DAAE,8OAAC;0DAAO;;;;;;4CAAyB;4CAAE,aAAa,cAAc;;;;;;;kDACjE,8OAAC;;0DACC,8OAAC;0DAAO;;;;;;4CAAsC;4CAC7C,aAAa,yBAAyB,CAAC,IAAI,CAAC;;;;;;;oCAE9C,mBAAmB,UAAU,aAAa,mBAAmB,kBAC5D,8OAAC;;0DAAE,8OAAC;0DAAO;;;;;;4CAAsB;4CAAE,aAAa,mBAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQnF;uCAEe"}},
    {"offset": {"line": 4770, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4776, "column": 0}, "map": {"version":3,"sources":["file:///Users/mahiarahman/Documents/Harvard/classes/cs1060/hw8/redesigning_opportunity/src/components/CommunityConnections.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react'\nimport { FaStar, FaQuoteLeft, FaQuoteRight, FaMapMarkerAlt, FaUser, FaEnvelope, FaComment } from 'react-icons/fa'\n\ninterface Testimonial {\n  id: string;\n  name: string;\n  location: string;\n  rating: number;\n  text: string;\n  date: string;\n  avatar?: string;\n}\n\nconst CommunityConnections: React.FC = () => {\n  const [activeTab, setActiveTab] = useState<'testimonials' | 'directory' | 'share'>('testimonials')\n  const [newTestimonialForm, setNewTestimonialForm] = useState({\n    name: '',\n    location: '',\n    rating: 5,\n    text: '',\n  })\n  \n  // Sample testimonials data\n  const testimonials: Testimonial[] = [\n    {\n      id: '1',\n      name: 'Sarah Johnson',\n      location: 'Brookline, MA',\n      rating: 5,\n      text: 'Moving to a higher opportunity neighborhood completely changed our lives. My children now attend excellent schools, and we\\'ve connected with supportive community programs. This website guided us through the entire process!',\n      date: 'March 2, 2025',\n      avatar: '/avatars/sarah.svg'\n    },\n    {\n      id: '2',\n      name: 'Marcus Williams',\n      location: 'Cambridge, MA',\n      rating: 4,\n      text: 'As a single father, I was overwhelmed by the prospect of moving to provide better opportunities for my kids. The resources and step-by-step guidance here made it manageable. We\\'ve been in our new community for 6 months, and my children are thriving.',\n      date: 'February 15, 2025',\n      avatar: '/avatars/marcus.svg'\n    },\n    {\n      id: '3',\n      name: 'Elena Rodriguez',\n      location: 'Somerville, MA',\n      rating: 5,\n      text: 'Instead of moving, we decided to stay and advocate for better resources in our community. The action plan helped us connect with local organizations and other parents. We\\'ve already seen improvements in our neighborhood schools!',\n      date: 'January 28, 2025',\n      avatar: '/avatars/elena.svg'\n    },\n    {\n      id: '4',\n      name: 'David Chen',\n      location: 'Newton, MA',\n      rating: 5,\n      text: 'The opportunity map was eye-opening. We had no idea how much variation existed between neighborhoods so close to each other. We made an informed decision to move, and now my daughter has access to amazing STEM programs she loves.',\n      date: 'January 10, 2025',\n      avatar: '/avatars/david.svg'\n    },\n  ]\n  \n  // Sample community directory data\n  const communityDirectory = [\n    {\n      id: '1',\n      name: 'Family Support Network',\n      description: 'A network of families who have moved to higher opportunity areas and provide mentorship to new families.',\n      location: 'Boston Metro Area',\n      contact: 'support@familynetwork.org',\n      website: 'www.familysupportnetwork.org'\n    },\n    {\n      id: '2',\n      name: 'Community Integration Program',\n      description: 'Helps families integrate into new communities through social events, resource sharing, and community building.',\n      location: 'Greater Massachusetts',\n      contact: 'hello@communityintegration.org',\n      website: 'www.communityintegration.org'\n    },\n    {\n      id: '3',\n      name: 'Parent Advocacy Coalition',\n      description: 'A coalition of parents working to improve opportunities in underserved communities through advocacy and community organizing.',\n      location: 'Multiple Locations',\n      contact: 'info@parentadvocacy.org',\n      website: 'www.parentadvocacy.org'\n    },\n    {\n      id: '4',\n      name: 'Education Opportunity Alliance',\n      description: 'Connects families with educational resources, tutoring, and enrichment programs across different communities.',\n      location: 'Massachusetts',\n      contact: 'connect@eduopportunity.org',\n      website: 'www.eduopportunity.org'\n    },\n  ]\n  \n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = e.target\n    setNewTestimonialForm({\n      ...newTestimonialForm,\n      [name]: value\n    })\n  }\n  \n  const handleRatingChange = (rating: number) => {\n    setNewTestimonialForm({\n      ...newTestimonialForm,\n      rating\n    })\n  }\n  \n  const handleSubmitTestimonial = (e: React.FormEvent) => {\n    e.preventDefault()\n    // In a real application, this would submit the testimonial to a backend\n    alert('Thank you for sharing your story! Your testimonial will be reviewed and published soon.')\n    setNewTestimonialForm({\n      name: '',\n      location: '',\n      rating: 5,\n      text: '',\n    })\n  }\n  \n  const renderStars = (rating: number) => {\n    return Array(5).fill(0).map((_, i) => (\n      <FaStar \n        key={i} \n        className={i < rating ? 'text-yellow-500' : 'text-gray-300'} \n      />\n    ))\n  }\n  \n  return (\n    <div id=\"community-connections\" className=\"min-h-screen px-4 py-10 max-w-6xl mx-auto scroll-mt-20\">\n      <div className=\"text-center mb-12\">\n        <h1 className=\"text-3xl md:text-4xl font-bold mb-2\">Community Connections</h1>\n        <p className=\"text-xl\">Connect with others on their journey to better opportunities</p>\n      </div>\n      \n      {/* Tab Navigation */}\n      <div className=\"flex justify-center mb-8\">\n        <div className=\"inline-flex rounded-md shadow-sm\">\n          <button\n            onClick={() => setActiveTab('testimonials')}\n            className={`px-5 py-2.5 text-sm font-medium rounded-l-lg ${\n              activeTab === 'testimonials'\n                ? 'bg-primary text-white'\n                : 'bg-white text-gray-700 hover:bg-gray-50'\n            }`}\n          >\n            Testimonials\n          </button>\n          <button\n            onClick={() => setActiveTab('directory')}\n            className={`px-5 py-2.5 text-sm font-medium ${\n              activeTab === 'directory'\n                ? 'bg-primary text-white'\n                : 'bg-white text-gray-700 hover:bg-gray-50'\n            }`}\n          >\n            Community Directory\n          </button>\n          <button\n            onClick={() => setActiveTab('share')}\n            className={`px-5 py-2.5 text-sm font-medium rounded-r-lg ${\n              activeTab === 'share'\n                ? 'bg-primary text-white'\n                : 'bg-white text-gray-700 hover:bg-gray-50'\n            }`}\n          >\n            Share Your Story\n          </button>\n        </div>\n      </div>\n      \n      {/* Testimonials Tab */}\n      {activeTab === 'testimonials' && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {testimonials.map((testimonial) => (\n            <div key={testimonial.id} className=\"bg-white rounded-xl shadow-lg p-6\">\n              <div className=\"flex items-start mb-4\">\n                <div className=\"flex-shrink-0 mr-4\">\n                  {testimonial.avatar ? (\n                    <img \n                      src={testimonial.avatar} \n                      alt={`${testimonial.name}'s avatar`}\n                      className=\"w-12 h-12 rounded-full\"\n                      style={{ backgroundColor: '#6CD9CA' }}\n                    />\n                  ) : (\n                    <div className=\"w-12 h-12 rounded-full bg-primary text-white flex items-center justify-center\">\n                      <FaUser size={20} />\n                    </div>\n                  )}\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-semibold\">{testimonial.name}</h3>\n                  <div className=\"flex items-center text-sm text-gray-600 mb-1\">\n                    <FaMapMarkerAlt className=\"mr-1\" />\n                    <span>{testimonial.location}</span>\n                  </div>\n                  <div className=\"flex\">\n                    {renderStars(testimonial.rating)}\n                  </div>\n                </div>\n              </div>\n              <div className=\"mb-3 text-gray-700\">\n                <FaQuoteLeft className=\"inline text-primary opacity-50 mr-2\" size={12} />\n                {testimonial.text}\n                <FaQuoteRight className=\"inline text-primary opacity-50 ml-2\" size={12} />\n              </div>\n              <div className=\"text-sm text-gray-500 text-right\">\n                {testimonial.date}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n      \n      {/* Community Directory Tab */}\n      {activeTab === 'directory' && (\n        <div className=\"space-y-6\">\n          {communityDirectory.map((org) => (\n            <div key={org.id} className=\"bg-white rounded-xl shadow-lg p-6\">\n              <h3 className=\"text-xl font-semibold mb-2\">{org.name}</h3>\n              <p className=\"text-gray-700 mb-4\">{org.description}</p>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div className=\"flex items-center text-gray-600\">\n                  <FaMapMarkerAlt className=\"mr-2 text-primary\" />\n                  <span>{org.location}</span>\n                </div>\n                <div className=\"flex items-center text-gray-600\">\n                  <FaEnvelope className=\"mr-2 text-primary\" />\n                  <a href={`mailto:${org.contact}`} className=\"hover:text-primary\">{org.contact}</a>\n                </div>\n              </div>\n              <div className=\"mt-4 pt-4 border-t border-gray-200\">\n                <a \n                  href={`https://${org.website}`} \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"inline-block px-4 py-2 bg-primary text-white rounded-lg hover:bg-opacity-90\"\n                >\n                  Visit Website\n                </a>\n              </div>\n            </div>\n          ))}\n          \n          <div className=\"bg-gray-50 rounded-xl shadow-lg p-6 border-2 border-dashed border-gray-300 text-center\">\n            <h3 className=\"text-xl font-semibold mb-2\">Know a helpful community resource?</h3>\n            <p className=\"text-gray-700 mb-4\">Help other families by adding it to our directory</p>\n            <button \n              className=\"inline-block px-4 py-2 bg-primary text-white rounded-lg hover:bg-opacity-90\"\n              onClick={() => setActiveTab('share')}\n            >\n              Suggest a Resource\n            </button>\n          </div>\n        </div>\n      )}\n      \n      {/* Share Your Story Tab */}\n      {activeTab === 'share' && (\n        <div className=\"bg-white rounded-xl shadow-lg p-8\">\n          <h2 className=\"text-2xl font-semibold mb-6\">Share Your Journey</h2>\n          <p className=\"mb-6\">Your story can inspire and guide other families on their path to better opportunities. Share your experience below:</p>\n          \n          <form onSubmit={handleSubmitTestimonial}>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n              <div>\n                <label htmlFor=\"name\" className=\"block mb-2 text-sm font-medium text-gray-700\">\n                  Your Name\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"name\"\n                  name=\"name\"\n                  value={newTestimonialForm.name}\n                  onChange={handleInputChange}\n                  className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary\"\n                  required\n                />\n              </div>\n              <div>\n                <label htmlFor=\"location\" className=\"block mb-2 text-sm font-medium text-gray-700\">\n                  Your Location\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"location\"\n                  name=\"location\"\n                  value={newTestimonialForm.location}\n                  onChange={handleInputChange}\n                  className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary\"\n                  required\n                />\n              </div>\n            </div>\n            \n            <div className=\"mb-6\">\n              <label className=\"block mb-2 text-sm font-medium text-gray-700\">\n                Rate Your Experience\n              </label>\n              <div className=\"flex space-x-2\">\n                {Array(5).fill(0).map((_, i) => (\n                  <FaStar \n                    key={i} \n                    className={`text-2xl cursor-pointer ${i < newTestimonialForm.rating ? 'text-yellow-500' : 'text-gray-300'}`}\n                    onClick={() => handleRatingChange(i + 1)}\n                  />\n                ))}\n              </div>\n            </div>\n            \n            <div className=\"mb-6\">\n              <label htmlFor=\"text\" className=\"block mb-2 text-sm font-medium text-gray-700\">\n                Your Story\n              </label>\n              <textarea\n                id=\"text\"\n                name=\"text\"\n                value={newTestimonialForm.text}\n                onChange={handleInputChange}\n                rows={5}\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary\"\n                required\n                placeholder=\"Share your journey, challenges, successes, and how this resource helped you...\"\n              />\n            </div>\n            \n            <div className=\"flex justify-end\">\n              <button\n                type=\"submit\"\n                className=\"inline-flex items-center px-5 py-2.5 bg-primary text-white font-medium rounded-lg hover:bg-opacity-90\"\n              >\n                <FaComment className=\"mr-2\" />\n                Submit Your Story\n              </button>\n            </div>\n          </form>\n          \n          <div className=\"mt-10 pt-6 border-t border-gray-200\">\n            <h3 className=\"text-xl font-semibold mb-4\">Why Share Your Story?</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\n                <h4 className=\"font-medium mb-2\">Inspire Others</h4>\n                <p className=\"text-gray-700\">Your journey can provide hope and motivation to families facing similar challenges.</p>\n              </div>\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\n                <h4 className=\"font-medium mb-2\">Build Community</h4>\n                <p className=\"text-gray-700\">Connect with others who have shared experiences and build a supportive network.</p>\n              </div>\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\n                <h4 className=\"font-medium mb-2\">Share Knowledge</h4>\n                <p className=\"text-gray-700\">Your insights and lessons learned can help other families navigate their own paths.</p>\n              </div>\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\n                <h4 className=\"font-medium mb-2\">Create Change</h4>\n                <p className=\"text-gray-700\">Personal stories are powerful tools for advocacy and creating systemic change.</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default CommunityConnections\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5580, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5586, "column": 0}, "map": {"version":3,"sources":["file:///Users/mahiarahman/Documents/Harvard/classes/cs1060/hw8/redesigning_opportunity/src/app/page.tsx"],"sourcesContent":["'use client'\nimport { RefObject, useEffect, useRef, useState } from 'react'\nimport Navbar from '../components/Navbar'\nimport Welcome from '../components/Welcome'\nimport PersonalizationQuiz, { usePersonalization } from '../components/AssessQuiz'\nimport TakeAction from '@/components/action-plan/ActionPlan'\nimport { PersonalizationProvider } from '../components/AssessQuiz'\nimport CommunityConnections from '../components/CommunityConnections'\n\ninterface SavedChoices {\n  town: string;\n  selectedSchool: string | null;\n  selectedCommunityPrograms: string[];\n  selectedNeighborhood?: string;\n  selectedHousingType?: string;\n}\n\nfunction Home() {\n  const progressBarRef = useRef<HTMLDivElement>(null)\n  const [isMounted, setIsMounted] = useState(false)\n  const [selectedAction, setSelectedAction] = useState<'stay' | 'move' | null>(null)\n  const [savedChoices, setSavedChoices] = useState<SavedChoices | null>(null)\n  \n  // Function to receive action and choices from TakeAction component\n  const handleActionAndChoicesSave = (action: 'stay' | 'move', choices: SavedChoices) => {\n    setSelectedAction(action)\n    setSavedChoices(choices)\n  }\n  \n  useEffect(() => {\n    setIsMounted(true)\n    \n    const handleScroll = () => {\n      const totalScroll = document.documentElement.scrollHeight - window.innerHeight\n      const scrollPosition = window.scrollY\n      const scrollPercentage = (scrollPosition / totalScroll) * 100\n      \n      if (progressBarRef.current) {\n        progressBarRef.current.style.width = `${scrollPercentage}%`\n      }\n    }\n    window.addEventListener('scroll', handleScroll)\n    return () => window.removeEventListener('scroll', handleScroll)\n  }, [])\n  \n  // Only render full content after component mounts on client\n  if (!isMounted) {\n    return <div className=\"min-h-screen\"></div> // Empty placeholder during server render\n  }\n  \n  return (\n    <>\n      <Navbar progressBarRef={progressBarRef as RefObject<HTMLDivElement>} />\n      \n      <main>\n        <PersonalizationProvider>\n          <HomeContent \n            selectedAction={selectedAction} \n            savedChoices={savedChoices}\n            handleActionAndChoicesSave={handleActionAndChoicesSave}\n          />\n        </PersonalizationProvider>\n      </main>\n    </>\n  )\n}\n\n// This component allows us to access the personalization context\nfunction HomeContent({ \n  selectedAction, \n  savedChoices,\n  handleActionAndChoicesSave\n}: { \n  selectedAction: 'stay' | 'move' | null;\n  savedChoices: SavedChoices | null;\n  handleActionAndChoicesSave: (action: 'stay' | 'move', choices: SavedChoices) => void;\n}) {\n  // Now we can use the personalization context\n  const { data } = usePersonalization();\n  \n  return (\n    <>\n      <section className=\"bg-white w-full\">\n        <div className=\"container mx-auto\">\n          <Welcome />\n        </div>\n      </section>\n      \n      <section className=\"bg-gray-100 w-full\">\n        <div className=\"container mx-auto\">\n          <PersonalizationQuiz />\n        </div>\n      </section>\n      \n      <section className=\"bg-gray-100 w-full\">\n        <div className=\"container mx-auto\">\n          <TakeAction onSaveActionAndChoices={handleActionAndChoicesSave} />\n        </div>\n      </section>\n\n      <section className=\"bg-gray-100 w-full\">\n        <div className=\"container mx-auto\">\n          <CommunityConnections />\n        </div>\n      </section>\n    </>\n  );\n}\n\nexport default Home"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;;;AAiBA,SAAS;IACP,MAAM,iBAAiB,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAkB;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA0B;IAC7E,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAuB;IAEtE,mEAAmE;IACnE,MAAM,6BAA6B,CAAC,QAAyB;QAC3D,kBAAkB;QAClB,gBAAgB;IAClB;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,aAAa;QAEb,MAAM,eAAe;YACnB,MAAM,cAAc,SAAS,eAAe,CAAC,YAAY,GAAG,OAAO,WAAW;YAC9E,MAAM,iBAAiB,OAAO,OAAO;YACrC,MAAM,mBAAmB,AAAC,iBAAiB,cAAe;YAE1D,IAAI,eAAe,OAAO,EAAE;gBAC1B,eAAe,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,iBAAiB,CAAC,CAAC;YAC7D;QACF;QACA,OAAO,gBAAgB,CAAC,UAAU;QAClC,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG,EAAE;IAEL,4DAA4D;IAC5D,IAAI,CAAC,WAAW;QACd,qBAAO,8OAAC;YAAI,WAAU;;;;;iBAAsB,yCAAyC;;IACvF;IAEA,qBACE;;0BACE,8OAAC,4HAAA,CAAA,UAAM;gBAAC,gBAAgB;;;;;;0BAExB,8OAAC;0BACC,cAAA,8OAAC,gIAAA,CAAA,0BAAuB;8BACtB,cAAA,8OAAC;wBACC,gBAAgB;wBAChB,cAAc;wBACd,4BAA4B;;;;;;;;;;;;;;;;;;AAMxC;AAEA,iEAAiE;AACjE,SAAS,YAAY,EACnB,cAAc,EACd,YAAY,EACZ,0BAA0B,EAK3B;IACC,6CAA6C;IAC7C,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,gIAAA,CAAA,qBAAkB,AAAD;IAElC,qBACE;;0BACE,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,6HAAA,CAAA,UAAO;;;;;;;;;;;;;;;0BAIZ,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,gIAAA,CAAA,UAAmB;;;;;;;;;;;;;;;0BAIxB,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,kJAAA,CAAA,UAAU;wBAAC,wBAAwB;;;;;;;;;;;;;;;;0BAIxC,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,0IAAA,CAAA,UAAoB;;;;;;;;;;;;;;;;;AAK/B;uCAEe"}},
    {"offset": {"line": 5760, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}