{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/ericvasquez/Downloads/Local/Classes/Y4/Spring/CS1060/evasquez25-hw6/src/components/Welcome.tsx"],"sourcesContent":["'use client'\n\nimport { FaChevronDown } from 'react-icons/fa'\n\nconst Welcome = () => {\n  return (\n    <div id=\"welcome\" className=\"min-h-screen flex flex-col items-center justify-center text-center px-4 pt-20 pb-10\">\n      <div className=\"max-w-4xl mx-auto\">\n        <h1 className=\"text-5xl md:text-7xl font-bold text-primary mb-8\">Building Your Child&apos;s Future</h1>\n        \n        <p className=\"text-xl md:text-2xl font-semibold mb-12\">\n          A friendly guide to creating opportunities for your family!\n        </p>\n        \n        <div className=\"space-y-5 mb-16 text-lg\">\n          <p>Discover the bests places to live</p>\n          <p>Search for the best schools</p>\n          <p>Find local resources and community programs</p>\n        </div>\n        \n        <div className=\"mt-8 mb-12 space-y-2\">\n          <p className=\"text-xl font-semibold\">Let&apos;s take this journey together</p>\n          <p className=\"text-xl font-semibold\">one step at a time</p>\n        </div>\n        \n        <div \n          className=\"text-primary text-4xl mt-6 animate-bounce cursor-pointer hover:text-primary-dark transition-colors\"\n          onClick={() => {\n            const quizSection = document.getElementById('quiz-section');\n            if (quizSection) {\n              quizSection.scrollIntoView({ behavior: 'smooth' });\n            }\n          }}\n          aria-label=\"Scroll to assessment quiz\"\n          role=\"button\"\n          tabIndex={0}\n          onKeyDown={(e) => {\n            if (e.key === 'Enter' || e.key === ' ') {\n              const quizSection = document.getElementById('quiz-section');\n              if (quizSection) {\n                quizSection.scrollIntoView({ behavior: 'smooth' });\n              }\n            }\n          }}\n        >\n          {<FaChevronDown className=\"mx-auto\" />}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Welcome"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIA,MAAM,UAAU;IACd,qBACE,8OAAC;QAAI,IAAG;QAAU,WAAU;kBAC1B,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAmD;;;;;;8BAEjE,8OAAC;oBAAE,WAAU;8BAA0C;;;;;;8BAIvD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;sCAAE;;;;;;sCACH,8OAAC;sCAAE;;;;;;sCACH,8OAAC;sCAAE;;;;;;;;;;;;8BAGL,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAAwB;;;;;;sCACrC,8OAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;8BAGvC,8OAAC;oBACC,WAAU;oBACV,SAAS;wBACP,MAAM,cAAc,SAAS,cAAc,CAAC;wBAC5C,IAAI,aAAa;4BACf,YAAY,cAAc,CAAC;gCAAE,UAAU;4BAAS;wBAClD;oBACF;oBACA,cAAW;oBACX,MAAK;oBACL,UAAU;oBACV,WAAW,CAAC;wBACV,IAAI,EAAE,GAAG,KAAK,WAAW,EAAE,GAAG,KAAK,KAAK;4BACtC,MAAM,cAAc,SAAS,cAAc,CAAC;4BAC5C,IAAI,aAAa;gCACf,YAAY,cAAc,CAAC;oCAAE,UAAU;gCAAS;4BAClD;wBACF;oBACF;8BAEC,cAAA,8OAAC,8IAAA,CAAA,gBAAa;wBAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;AAKpC;uCAEe"}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file:///Users/ericvasquez/Downloads/Local/Classes/Y4/Spring/CS1060/evasquez25-hw6/src/components/Navbar.tsx"],"sourcesContent":["'use client'\n\nimport Link from 'next/link'\nimport { RefObject } from 'react'\n\ninterface NavbarProps {\n  progressBarRef: RefObject<HTMLDivElement>\n}\n\nexport default function Navbar({ progressBarRef }: NavbarProps) {\n  return (\n    <header className=\"fixed top-0 left-0 w-full bg-white z-50\">\n      <nav className=\"w-full mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between items-center h-16\">\n          <div className=\"text-primary text-3xl font-bold pl-4 md:pl-10\">Opportunity AI</div>\n          <div className=\"hidden md:flex space-x-8 pr-4 md:pr-10\">\n            <Link href=\"#welcome\" className=\"hover:text-primary transition-colors\">Welcome</Link>\n            <Link href=\"#quiz-section\" className=\"hover:text-primary transition-colors\">Assess</Link>\n            <Link href=\"#opportunity-map\" className=\"hover:text-primary transition-colors\">Opportunity Map</Link>\n            <Link href=\"#take-action\" className=\"hover:text-primary transition-colors\">Take Action</Link>\n            <Link href=\"#next-steps\" className=\"hover:text-primary transition-colors\">Next Steps</Link>\n            <Link href=\"#community-connections\" className=\"hover:text-primary transition-colors\">Community</Link>\n          </div>\n        </div>\n      </nav>\n      <div className=\"h-0.5 w-full bg-gray-100\">\n        <div className=\"h-full bg-primary w-0\" ref={progressBarRef}></div>\n      </div>\n    </header>\n  )\n}"],"names":[],"mappings":";;;;AAEA;AAFA;;;AASe,SAAS,OAAO,EAAE,cAAc,EAAe;IAC5D,qBACE,8OAAC;QAAO,WAAU;;0BAChB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCAAgD;;;;;;sCAC/D,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAW,WAAU;8CAAuC;;;;;;8CACvE,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAgB,WAAU;8CAAuC;;;;;;8CAC5E,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAmB,WAAU;8CAAuC;;;;;;8CAC/E,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAe,WAAU;8CAAuC;;;;;;8CAC3E,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAc,WAAU;8CAAuC;;;;;;8CAC1E,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAyB,WAAU;8CAAuC;;;;;;;;;;;;;;;;;;;;;;;0BAI3F,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;oBAAwB,KAAK;;;;;;;;;;;;;;;;;AAIpD"}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///Users/ericvasquez/Downloads/Local/Classes/Y4/Spring/CS1060/evasquez25-hw6/src/components/AssessQuiz.tsx"],"sourcesContent":["'use client'\nimport { useState, createContext, useContext, ReactNode } from 'react';\nimport { FaChevronDown } from 'react-icons/fa';\n\n// Define all the types we need\ntype ChildInfo = {\n  name: string;\n  gender: string;\n  age: string;\n  ethnicity: string;\n};\n\nexport type AssessData = {\n  address: string;\n  income: string;\n  country: string;\n  children: ChildInfo[];\n  opportunityScore?: number | null;\n};\n\ninterface AssessContextType {\n  data: AssessData;\n  updateData: (data: Partial<AssessData>) => void;\n  setFullData: (data: AssessData) => void;\n}\n\n// Initial default values\nconst defaultData: AssessData = {\n  address: '',\n  income: '',\n  country: '',\n  children: [],\n  opportunityScore: null\n};\n\nconst AssessContext = createContext<AssessContextType | undefined>(undefined);\n\nexport function AssessProvider({ children }: { children: ReactNode }) {\n  const [data, setData] = useState<AssessData>(defaultData);\n\n  const updateData = (newData: Partial<AssessData>) => {\n    setData(prevData => ({\n      ...prevData,\n      ...newData\n    }));\n  };\n\n  const setFullData = (newData: AssessData) => {\n    setData(newData);\n  };\n\n  return (\n    <AssessContext.Provider value={{ data, updateData, setFullData }}>\n      {children}\n    </AssessContext.Provider>\n  );\n}\n\nexport function useAssessment() {\n  const context = useContext(AssessContext);\n  if (context === undefined) {\n    throw new Error('useAssessment must be used within an AssessProvider');\n  }\n  return context;\n}\n\n// Alias for backward compatibility\nexport const usePersonalization = useAssessment;\n\n// Alias for backward compatibility\nexport { AssessProvider as PersonalizationProvider };\n\nconst AssessYourCommunity = () => {\n  const { setFullData } = useAssessment();\n  \n  // Initialize formData with ALL fields, including address\n  const [formData, setFormData] = useState<AssessData>({\n    address: '',\n    income: '',\n    country: '',\n    children: [{ name: '', gender: '', age: '', ethnicity: '' }]\n  });\n  \n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n\n  const handleParentInfoChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    setFormData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n\n  const handleChildInfoChange = (index: number, e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    const key = name.split('-')[1]; // Extract the field name (name, gender, age, ethnicity)\n    \n    setFormData(prevData => {\n      const updatedChildren = [...prevData.children];\n      updatedChildren[index] = {\n        ...updatedChildren[index],\n        [key]: value\n      };\n      \n      return {\n        ...prevData,\n        children: updatedChildren\n      };\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    \n    try {\n      console.log('Submitting form data:', formData);\n      \n      // Save to context for use across the site\n      setFullData(formData);\n      \n      // Make the API call\n      const response = await fetch('/api/save-family-data', { \n        method: 'POST', \n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(formData) \n      });\n      \n      const result = await response.json();\n      console.log('API response:', result);\n      \n      // Show success state\n      setSubmitSuccess(true);\n      setTimeout(() => setSubmitSuccess(false), 3000); // Show checkmark for 3 seconds\n      \n      // Scroll to the map section after a short delay to ensure data is processed\n      setTimeout(() => {\n        const mapSection = document.getElementById('opportunity-map');\n        if (mapSection) {\n          mapSection.scrollIntoView({ behavior: 'smooth' });\n        }\n      }, 300);\n    } catch (error) {\n      console.error('Error submitting form:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div id=\"quiz-section\" className=\"min-h-screen px-4 py-16 max-w-4xl mx-auto scroll-mt-28\">\n      <div className=\"bg-white rounded-xl shadow-lg p-8 md:p-10\">\n        <div className=\"text-center mb-10\">\n          <h2 className=\"text-3xl md:text-4xl font-bold mb-2\">Assess Your Community</h2>\n          <p className=\"text-lg text-gray-600\">Help us provide personalized guidance for your family&apos;s future</p>\n        </div>\n        \n        <form onSubmit={handleSubmit} className=\"space-y-8\">\n          {/* Parent Information Section */}\n          <div className=\"space-y-6\">\n            <div className=\"flex items-center\">\n              <h3 className=\"text-xl font-semibold\">Parent Information</h3>\n              <div className=\"flex-grow ml-4 h-px bg-gray-200\"></div>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div className=\"space-y-2\">\n                <label htmlFor=\"address\" className=\"block text-sm font-medium\">\n                  Address<span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"address\"\n                  name=\"address\"\n                  value={formData.address || ''}\n                  onChange={handleParentInfoChange}\n                  placeholder=\"Enter your full address\"\n                  required\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent\"\n                />\n              </div>\n              \n              <div className=\"space-y-2\">\n                <label htmlFor=\"income\" className=\"block text-sm font-medium\">\n                  Annual Household Income<span className=\"text-red-500\">*</span>\n                </label>\n                <div className=\"relative\">\n                  <select\n                    id=\"income\"\n                    name=\"income\"\n                    value={formData.income || ''}\n                    onChange={handleParentInfoChange}\n                    required\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-md appearance-none focus:ring-2 focus:ring-primary focus:border-transparent\"\n                  >\n                    <option value=\"\">Select income range</option>\n                    <option value=\"<25k\">Less than $25,000</option>\n                    <option value=\"25-50k\">$25,000 - $50,000</option>\n                    <option value=\"50-75k\">$50,000 - $75,000</option>\n                    <option value=\"75-100k\">$75,000 - $100,000</option>\n                    <option value=\">100k\">More than $100,000</option>\n                  </select>\n                  <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n                    <FaChevronDown className=\"text-gray-400\" />\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"space-y-2\">\n                <label htmlFor=\"country\" className=\"block text-sm font-medium\">\n                  Country of Origin (Optional)\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"country\"\n                  name=\"country\"\n                  value={formData.country || ''}\n                  onChange={handleParentInfoChange}\n                  placeholder=\"Enter country\"\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent\"\n                />\n              </div>\n            </div>\n          </div>\n          \n          {/* Child Information Section */}\n          <div className=\"space-y-6\">\n            <div className=\"flex items-center\">\n              <h3 className=\"text-xl font-semibold\">Child Information</h3>\n              <div className=\"flex-grow ml-4 h-px bg-gray-200\"></div>\n            </div>\n            \n            {formData.children.map((child, index) => (\n              <div key={index} className=\"space-y-6\">\n                <h4 className=\"font-medium\">Child {index + 1}</h4>\n                \n                <div className=\"space-y-2\">\n                  <label htmlFor={`child${index}-name`} className=\"block text-sm font-medium\">\n                    Name<span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    id={`child${index}-name`}\n                    name={`child-name`}\n                    value={child.name || ''}\n                    onChange={(e) => handleChildInfoChange(index, e)}\n                    placeholder=\"Enter child's name\"\n                    required\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent\"\n                  />\n                </div>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                  <div className=\"space-y-2\">\n                    <label htmlFor={`child${index}-gender`} className=\"block text-sm font-medium\">\n                      Gender<span className=\"text-red-500\">*</span>\n                    </label>\n                    <div className=\"relative\">\n                      <select\n                        id={`child${index}-gender`}\n                        name={`child-gender`}\n                        value={child.gender || ''}\n                        onChange={(e) => handleChildInfoChange(index, e)}\n                        required\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-md appearance-none focus:ring-2 focus:ring-primary focus:border-transparent\"\n                      >\n                        <option value=\"\">Select gender</option>\n                        <option value=\"M\">Male</option>\n                        <option value=\"F\">Female</option>\n                      </select>\n                      <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n                        <FaChevronDown className=\"text-gray-400\" />\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div className=\"space-y-2\">\n                    <label htmlFor={`child${index}-age`} className=\"block text-sm font-medium\">\n                      Age<span className=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      type=\"number\"\n                      id={`child${index}-age`}\n                      name={`child-age`}\n                      value={child.age || ''}\n                      onChange={(e) => handleChildInfoChange(index, e)}\n                      placeholder=\"Enter age\"\n                      min=\"0\"\n                      max=\"18\"\n                      required\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent\"\n                    />\n                  </div>\n                  \n                  <div className=\"space-y-2\">\n                    <label htmlFor={`child${index}-ethnicity`} className=\"block text-sm font-medium\">\n                      Ethnicity<span className=\"text-red-500\">*</span>\n                    </label>\n                    <div className=\"relative\">\n                      <select\n                        id={`child${index}-ethnicity`}\n                        name={`child-ethnicity`}\n                        value={child.ethnicity || ''}\n                        onChange={(e) => handleChildInfoChange(index, e)}\n                        required\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-md appearance-none focus:ring-2 focus:ring-primary focus:border-transparent\"\n                      >\n                        <option value=\"\">Select ethnicity</option>\n                        <option value=\"W\">White</option>\n                        <option value=\"B\">Black</option>\n                        <option value=\"H\">Hispanic</option>\n                        <option value=\"A\">Asian</option>\n                        <option value=\"NA\">Native American</option>\n                      </select>\n                      <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n                        <FaChevronDown className=\"text-gray-400\" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n            \n            {/* Add Child Button */}\n            <div>\n              <button\n                type=\"button\"\n                onClick={() => setFormData(prev => ({\n                  ...prev,\n                  children: [...prev.children, { name: '', gender: '', age: '', ethnicity: '' }]\n                }))}\n                className=\"text-primary hover:text-primary-dark font-medium\"\n              >\n                + Add another child\n              </button>\n            </div>\n          </div>\n          \n          {/* No separate success message - using checkmark next to button */}\n          \n          {/* Submit Button */}\n          <div className=\"flex justify-center mt-10\">\n            <div className=\"relative inline-flex items-center\">\n              <button\n                type=\"submit\"\n                disabled={isSubmitting}\n                className={`bg-primary hover:bg-opacity-90 text-white py-3 px-12 rounded-full font-medium text-lg transition-all ${\n                  isSubmitting ? 'opacity-70 cursor-not-allowed' : ''\n                }`}\n              >\n                {isSubmitting ? (\n                  <span className=\"flex items-center justify-center\">\n                    <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                    </svg>\n                    Submitting...\n                  </span>\n                ) : 'Submit'}\n              </button>\n              \n              {/* Success Checkmark */}\n              {submitSuccess && (\n                <div className=\"ml-4 flex-shrink-0 w-8 h-8 rounded-full bg-primary flex items-center justify-center\">\n                  <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\"></path>\n                  </svg>\n                </div>\n              )}\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default AssessYourCommunity;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1170, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1176, "column": 0}, "map": {"version":3,"sources":["file:///Users/ericvasquez/Downloads/Local/Classes/Y4/Spring/CS1060/evasquez25-hw6/src/components/action-plan/Stay.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect } from 'react'\nimport { School } from 'lucide-react'\nimport { useAssessment, AssessData } from '../AssessQuiz'\n\n// Enhanced types for the recommendations data\ntype TownData = {\n  name: string;\n  website: string;\n  description: string;\n};\n\ntype SchoolData = {\n  name: string;\n  rating: number;\n  description: string;\n  website: string;\n  schoolType?: 'elementary' | 'middle' | 'high' | 'all'; // New field\n};\n\ntype CommunityProgramData = {\n  name: string;\n  description: string;\n  website: string;\n  ageRanges?: ('preschool' | 'elementary' | 'middle' | 'high' | 'all')[]; // New field\n  genderFocus?: 'all' | 'boys' | 'girls'; // New field\n  tags?: string[]; // New field\n};\n\ntype Recommendations = {\n  townData: TownData;\n  schoolData: SchoolData[];\n  communityProgramData: CommunityProgramData[];\n};\n\n// Default data to use as fallback\nconst defaultRecommendations: Recommendations = {\n  townData: {\n    name: 'Oakridge Community',\n    website: 'https://www.oakridgetownship.gov',\n    description: 'A growing suburban community committed to education and family development. Located in a region with diverse economic opportunities and strong community support.',\n  },\n  schoolData: [\n    {\n      name: 'Oakridge Elementary',\n      rating: 8.5,\n      description: 'A top-rated elementary school with advanced STEM programs and a strong focus on individualized learning.',\n      website: 'https://www.oakridgeelementary.edu',\n      schoolType: 'elementary'\n    },\n    {\n      name: 'Oakridge Middle School',\n      rating: 8.2,\n      description: 'A magnet school offering specialized programs in arts and technology, with small class sizes.',\n      website: 'https://www.oakridgemiddle.edu',\n      schoolType: 'middle'\n    },\n    {\n      name: 'Oakridge High School',\n      rating: 7.9,\n      description: 'A community-focused school with integrated enrichment programs and strong parent involvement.',\n      website: 'https://www.oakridgehigh.edu',\n      schoolType: 'high'\n    }\n  ],\n  communityProgramData: [\n    {\n      name: 'Youth Leadership Academy',\n      description: 'After-school program focusing on leadership skills, community service, and personal development.',\n      website: 'https://www.youthleadershipacademy.org',\n      ageRanges: ['elementary', 'middle', 'high'],\n      genderFocus: 'all',\n      tags: ['leadership', 'community']\n    },\n    {\n      name: 'STEM Explorers Club',\n      description: 'Hands-on science and technology program for curious young minds, with robotics and coding workshops.',\n      website: 'https://www.stemexplorers.edu',\n      ageRanges: ['elementary', 'middle'],\n      genderFocus: 'all',\n      tags: ['stem', 'technology', 'science']\n    },\n    {\n      name: 'Creative Arts Program',\n      description: 'Comprehensive arts education program offering music, visual arts, theater, and dance classes.',\n      website: 'https://www.creativeartsprogram.org',\n      ageRanges: ['elementary', 'middle', 'high'],\n      genderFocus: 'all',\n      tags: ['arts', 'creativity']\n    }\n  ]\n};\n\ninterface StayProps {\n  onSaveChoices?: (choices: {\n    town: string;\n    selectedSchool: string | null;\n    selectedCommunityPrograms: string[];\n  }) => void;\n  assessmentData?: AssessData; \n}\n\n// Helper function to determine appropriate school type based on child's age\nconst getSchoolTypeForAge = (age: number): 'elementary' | 'middle' | 'high' => {\n  if (age >= 5 && age <= 10) return 'elementary';\n  if (age >= 11 && age <= 13) return 'middle';\n  if (age >= 14) return 'high';\n  return 'elementary'; // Default to elementary for very young children\n};\n\n// Helper function to filter schools based on children's ages\nconst filterSchoolsByChildAge = (schools: SchoolData[], assessmentData: AssessData | undefined): SchoolData[] => {\n  // If no children data is available, return all schools\n  if (!assessmentData || !assessmentData.children || assessmentData.children.length === 0) {\n    return schools;\n  }\n\n  // Get school types needed for all children in the family\n  const neededSchoolTypes = assessmentData.children\n    .map(child => {\n      const age = parseInt(child.age);\n      return getSchoolTypeForAge(age);\n    })\n    .filter((value, index, self) => self.indexOf(value) === index); // Remove duplicates\n\n  // Filter schools that match any of the needed school types or are marked as 'all' (all grades)\n  return schools.filter(school => {\n    // If schoolType is undefined, don't include it\n    if (!school.schoolType) return false;\n    \n    // Now we know schoolType is defined, check if it's 'all' or in neededSchoolTypes\n    return school.schoolType === 'all' || \n           neededSchoolTypes.includes(school.schoolType as 'elementary' | 'middle' | 'high');\n  });\n};\n\n// Helper function to filter community programs based on children's profiles\nconst filterCommunityPrograms = (\n  programs: CommunityProgramData[], \n  assessmentData: AssessData | undefined\n): CommunityProgramData[] => {\n  // If no children data is available, return all programs\n  if (!assessmentData || !assessmentData.children || assessmentData.children.length === 0) {\n    return programs;\n  }\n\n  // Get age ranges needed for all children in the family\n  const childAgeRanges = assessmentData.children.map(child => {\n    const age = parseInt(child.age);\n    if (age >= 5 && age <= 10) return 'elementary';\n    if (age >= 11 && age <= 13) return 'middle';\n    if (age >= 14) return 'high';\n    return 'preschool'; // For very young children\n  });\n\n  // Get gender preferences\n  const hasGirlChild = assessmentData.children.some(child => child.gender === 'F');\n  const hasBoyChild = assessmentData.children.some(child => child.gender === 'M');\n\n  // Filter programs that match age ranges and gender considerations\n  return programs.filter(program => {\n    // If no age ranges are specified, include the program\n    if (!program.ageRanges || program.ageRanges.length === 0) return true;\n    \n    // At this point we know program.ageRanges exists and has elements\n    const ageRanges = program.ageRanges; // Store in a local variable to help TypeScript understand it's defined\n    \n    // Check if program serves any of the children's age ranges\n    const ageMatch = ageRanges.includes('all') || \n      childAgeRanges.some(age => {\n        // Convert the age string to the appropriate type for the includes check\n        const validAge = age as 'preschool' | 'elementary' | 'middle' | 'high';\n        return ageRanges.includes(validAge);\n      });\n    \n    // Check gender compatibility\n    const genderMatch = !program.genderFocus || \n      program.genderFocus === 'all' ||\n      (program.genderFocus === 'girls' && hasGirlChild) ||\n      (program.genderFocus === 'boys' && hasBoyChild);\n    \n    return ageMatch && genderMatch;\n  });\n};\n\n// Helper to infer school type if not provided\nconst inferSchoolType = (school: SchoolData): SchoolData => {\n  if (school.schoolType) return school;\n  \n  const name = school.name.toLowerCase();\n  let schoolType: 'elementary' | 'middle' | 'high' | 'all' = 'all';\n  \n  if (name.includes('elementary') || name.includes('primary')) {\n    schoolType = 'elementary';\n  } else if (name.includes('middle') || name.includes('junior')) {\n    schoolType = 'middle';\n  } else if (name.includes('high')) {\n    schoolType = 'high';\n  }\n  \n  return { ...school, schoolType };\n};\n\n// Helper to get school level message\nconst getSchoolLevelMessage = (assessmentData: AssessData | undefined): string => {\n  if (!assessmentData || !assessmentData.children || assessmentData.children.length === 0) {\n    return 'Showing all schools in the area';\n  }\n\n  const schoolTypes = assessmentData.children\n    .map(child => getSchoolTypeForAge(parseInt(child.age)))\n    .filter((value, index, self) => self.indexOf(value) === index); // Remove duplicates\n    \n  const typeLabels: Record<string, string> = {\n    elementary: 'elementary schools',\n    middle: 'middle schools',\n    high: 'high schools'\n  };\n  \n  const typeStrings = schoolTypes.map(type => typeLabels[type]);\n  \n  if (typeStrings.length === 1) {\n    return `Showing ${typeStrings[0]} based on your child's age`;\n  } else {\n    return `Showing ${typeStrings.join(' and ')} based on your children's ages`;\n  }\n};\n\n// Generate personalized advice based on the user's specific situation\nconst generatePersonalizedAdvice = (assessmentData: AssessData | undefined): string => {\n  if (!assessmentData) return '';\n  \n  const advice = [];\n  \n  // Age-specific advice\n  const hasYoungChild = assessmentData.children?.some(child => parseInt(child.age) <= 10);\n  const hasTeenager = assessmentData.children?.some(child => parseInt(child.age) >= 13);\n  \n  if (hasYoungChild) {\n    advice.push(\"For your younger child, look for schools with strong early literacy programs and supportive environments.\");\n  }\n  \n  if (hasTeenager) {\n    advice.push(\"For your teenager, consider schools with college prep programs, AP/IB courses, and strong counseling services.\");\n  }\n  \n  // Income-based advice\n  const lowerIncome = assessmentData.income === '<25k' || assessmentData.income === '25-50k';\n  const higherIncome = assessmentData.income === '>100k';\n  \n  if (lowerIncome) {\n    advice.push(\"Ask about free/reduced lunch programs, scholarship opportunities, and fee waivers for extracurricular activities.\");\n  }\n  \n  if (higherIncome) {\n    advice.push(\"Look for schools and programs that offer advanced enrichment opportunities and acceleration options.\");\n  }\n  \n  // Return the personalized advice\n  return advice.join(' ');\n};\n\nconst Stay: React.FC<StayProps> = ({ onSaveChoices, assessmentData }) => {\n  const [selectedSchool, setSelectedSchool] = useState<string | null>(null)\n  const [selectedCommunityPrograms, setSelectedCommunityPrograms] = useState<string[]>([])\n  const [recommendations, setRecommendations] = useState<Recommendations>(defaultRecommendations)\n  const [filteredSchools, setFilteredSchools] = useState<SchoolData[]>(defaultRecommendations.schoolData)\n  const [filteredPrograms, setFilteredPrograms] = useState<CommunityProgramData[]>(defaultRecommendations.communityProgramData)\n  const [isLoading, setIsLoading] = useState<boolean>(false)\n  const [error, setError] = useState<string | null>(null)\n  \n  // Get assessment data from context if not provided as prop\n  const assessmentContext = useAssessment()\n  const userData = assessmentData || assessmentContext.data\n\n  const handleSchoolSelect = (schoolName: string) => {\n    setSelectedSchool(schoolName)\n  }\n\n  const handleCommunityProgramToggle = (programName: string) => {\n    setSelectedCommunityPrograms(prev => \n      prev.includes(programName)\n        ? prev.filter(p => p !== programName)\n        : [...prev, programName]\n    )\n  }\n\n  const handleSaveChoices = () => {\n    if (onSaveChoices && selectedSchool && selectedCommunityPrograms.length > 0) {\n      const choices = {\n        town: recommendations.townData.name,\n        selectedSchool,\n        selectedCommunityPrograms\n      }\n      onSaveChoices(choices)\n    }\n  }\n  \n  // Fetch recommendations from OpenAI API\n  useEffect(() => {\n    const fetchRecommendations = async () => {\n      // Skip if no address is available\n      if (!userData?.address) {\n        setError('No address provided. Please complete the assessment form first.')\n        return\n      }\n      \n      setIsLoading(true)\n      setError(null)\n      \n      try {\n        const response = await fetch('/api/openai', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            address: userData.address,\n            income: userData.income,\n            children: userData.children\n          })\n        })\n        \n        if (!response.ok) {\n          const errorData = await response.json().catch(() => ({}));\n          throw new Error(\n            errorData.details || \n            `Failed to fetch recommendations: ${response.status} ${response.statusText}`\n          );\n        }\n        \n        const data = await response.json();\n        \n        // Ensure schoolType is present or infer it\n        const processedSchoolData = data.schoolData.map(inferSchoolType);\n        \n        // Apply filters based on child's age\n        const filteredSchoolData = filterSchoolsByChildAge(processedSchoolData, userData);\n        const filteredProgramData = filterCommunityPrograms(data.communityProgramData, userData);\n        \n        // Store both the complete and filtered data\n        setRecommendations({\n          ...data,\n          schoolData: processedSchoolData\n        });\n        \n        setFilteredSchools(filteredSchoolData);\n        setFilteredPrograms(filteredProgramData);\n      } catch (err) {\n        console.error('Error fetching recommendations:', err)\n        setError(`Failed to load personalized recommendations: ${err instanceof Error ? err.message : String(err)}. Using default data instead.`)\n        \n        // Fall back to default recommendations but apply filtering\n        const filteredDefaultSchools = filterSchoolsByChildAge(defaultRecommendations.schoolData, userData);\n        const filteredDefaultPrograms = filterCommunityPrograms(defaultRecommendations.communityProgramData, userData);\n        \n        setFilteredSchools(filteredDefaultSchools);\n        setFilteredPrograms(filteredDefaultPrograms);\n      } finally {\n        setIsLoading(false)\n      }\n    }\n    \n    fetchRecommendations()\n  }, [userData])\n\n  return (\n    <div className=\"space-y-12 mt-16\">\n      {isLoading ? (\n        <div className=\"flex flex-col items-center justify-center py-12\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#6CD9CA]\"></div>\n          <p className=\"mt-4 text-lg\">Loading personalized recommendations based on your address...</p>\n        </div>\n      ) : error ? (\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-6 text-center\">\n          <p className=\"text-red-600\">{error}</p>\n          <p className=\"mt-2\">Please make sure you&apos;ve completed the assessment form with your address.</p>\n        </div>\n      ) : (\n        <>\n          {/* Personalized Advice */}\n          {userData && (\n            <div className=\"bg-[#6CD9CA] bg-opacity-10 p-6 rounded-lg\">\n              <h3 className=\"text-xl font-semibold mb-2\">Personalized Advice</h3>\n              <p>{generatePersonalizedAdvice(userData)}</p>\n            </div>\n          )}\n\n          {/* Town Information */}\n          <div className=\"bg-white shadow-md rounded-lg p-6\">\n            <h3 className=\"text-2xl font-semibold mb-4 text-left\">Township Information</h3>\n            <div className=\"text-left space-y-2\">\n              <p><strong>Town Name:</strong> {recommendations.townData.name}</p>\n              <p>\n                <strong>Township Website:</strong>{' '}\n                <a \n                  href={recommendations.townData.website} \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\" \n                  className=\"text-[#6CD9CA] hover:underline\"\n                >\n                  {recommendations.townData.website}\n                </a>{' '}\n                <span className=\"text-sm text-gray-600\">\n                  (Click to learn more about local opportunities!)\n                </span>\n              </p>\n              <p><strong>Description:</strong> {recommendations.townData.description}</p>\n            </div>\n          </div>\n\n          {/* Local Schools */}\n          <div className=\"bg-white shadow-md rounded-lg p-6\">\n            <h3 className=\"text-2xl font-semibold mb-4\">Local Schools</h3>\n            <p className=\"mb-1\">Select a school that would be a good alternative:</p>\n            <p className=\"mb-4 text-sm text-gray-600\">{getSchoolLevelMessage(userData)}</p>\n            \n            {filteredSchools.length > 0 ? (\n              <div className=\"space-y-4\">\n                {filteredSchools.map((school) => (\n                  <div \n                    key={school.name}\n                    className={`\n                      border rounded-lg p-4 cursor-pointer transition-all duration-300 flex items-center\n                      ${selectedSchool === school.name \n                        ? 'border-[#6CD9CA] bg-[#6CD9CA] bg-opacity-10' \n                        : 'border-gray-200 hover:border-[#6CD9CA] hover:bg-[#6CD9CA] hover:bg-opacity-10'}\n                    `}\n                    onClick={() => handleSchoolSelect(school.name)}\n                  >\n                    <School className=\"mr-4 text-[#6CD9CA]\" size={24} />\n                    <div className=\"flex-grow flex justify-between items-center\">\n                      <div className=\"flex-grow\">\n                        <div className=\"flex items-center justify-between\">\n                          <h4 className=\"text-xl font-semibold\">{school.name}</h4>\n                          <div className=\"flex items-center\">\n                            <p className=\"text-sm text-gray-600 ml-4\">Rating: {school.rating}/10</p>\n                            {school.schoolType && (\n                              <span className=\"ml-2 px-2 py-0.5 bg-gray-100 rounded-full text-xs capitalize\">\n                                {school.schoolType}\n                              </span>\n                            )}\n                          </div>\n                        </div>\n                        <p className=\"mt-1\">{school.description}</p>\n                      </div>\n                      <a \n                        href={school.website} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\" \n                        className=\"text-[#6CD9CA] hover:underline ml-4\"\n                      >\n                        Website\n                      </a>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <p className=\"text-center text-gray-600 py-4\">\n                No schools matching your children&apos;s age profiles were found. Please try adjusting your search.\n              </p>\n            )}\n\n            {selectedSchool && (\n              <p className=\"mt-4 text-lg font-semibold\">\n                {selectedSchool} school looks like a great option for your child!\n              </p>\n            )}\n          </div>\n\n          {/* Community Programs */}\n          <div className=\"bg-white shadow-md rounded-lg p-6\">\n            <h3 className=\"text-2xl font-semibold mb-4\">Community Programs</h3>\n            <p className=\"mb-4\">Select community programs your child can be part of:</p>\n            \n            {filteredPrograms.length > 0 ? (\n              <div className=\"space-y-4\">\n                {filteredPrograms.map((program) => (\n                  <div \n                    key={program.name}\n                    className={`\n                      border rounded-lg p-4 cursor-pointer transition-all duration-300\n                      ${selectedCommunityPrograms.includes(program.name)\n                        ? 'border-[#6CD9CA] bg-[#6CD9CA] bg-opacity-10' \n                        : 'border-gray-200 hover:border-[#6CD9CA] hover:bg-[#6CD9CA] hover:bg-opacity-10'}\n                    `}\n                    onClick={() => handleCommunityProgramToggle(program.name)}\n                  >\n                    <div className=\"flex justify-between items-center\">\n                      <div>\n                        <h4 className=\"text-xl font-semibold\">{program.name}</h4>\n                      </div>\n                      <div className=\"flex items-center\">\n                        {program.genderFocus && program.genderFocus !== 'all' && (\n                          <span className=\"px-2 py-0.5 bg-gray-100 rounded-full text-xs mr-2 capitalize\">\n                            {program.genderFocus}\n                          </span>\n                        )}\n                        {program.ageRanges && program.ageRanges.length > 0 && program.ageRanges[0] !== 'all' && (\n                          <span className=\"px-2 py-0.5 bg-gray-100 rounded-full text-xs mr-2 capitalize\">\n                            {program.ageRanges.join(', ')}\n                          </span>\n                        )}\n                        <a \n                          href={program.website} \n                          target=\"_blank\" \n                          rel=\"noopener noreferrer\" \n                          className=\"text-[#6CD9CA] hover:underline\"\n                        >\n                          Website\n                        </a>\n                      </div>\n                    </div>\n                    <p className=\"mt-2\">{program.description}</p>\n                    {program.tags && program.tags.length > 0 && (\n                      <div className=\"mt-2 flex flex-wrap gap-1\">\n                        {program.tags.map(tag => (\n                          <span key={tag} className=\"px-2 py-0.5 bg-gray-100 rounded-full text-xs capitalize\">\n                            {tag}\n                          </span>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <p className=\"text-center text-gray-600 py-4\">\n                No community programs matching your children&apos;s profiles were found. Please try adjusting your search.\n              </p>\n            )}\n\n            {selectedCommunityPrograms.length > 0 && (\n              <p className=\"mt-4 text-lg font-semibold\">\n                {selectedCommunityPrograms.join(', ')} {selectedCommunityPrograms.length === 1 ? 'looks' : 'look'} like a great option for your child!\n              </p>\n            )}\n          </div>\n        </>\n      )}\n\n      {/* Save Choices Button */}\n      {selectedSchool && selectedCommunityPrograms.length > 0 && (\n        <div className=\"text-center\">\n          <button \n            onClick={handleSaveChoices}\n            className=\"bg-[#6CD9CA] text-white py-3 px-6 rounded-full text-lg font-semibold hover:bg-opacity-90 transition-colors\"\n          >\n            Save My Choices\n          </button>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Stay"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1978, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1984, "column": 0}, "map": {"version":3,"sources":["file:///Users/ericvasquez/Downloads/Local/Classes/Y4/Spring/CS1060/evasquez25-hw6/src/components/action-plan/ActionPlan.tsx"],"sourcesContent":["'use client'\nimport React, { useState } from 'react'\nimport Stay from './Stay'\n// import Move from './Move'\nimport { useAssessment } from '../AssessQuiz'\n\ninterface SavedChoices {\n  town: string;\n  selectedSchool: string | null;\n  selectedCommunityPrograms: string[];\n  selectedNeighborhood?: string;\n  selectedHousingType?: string;\n}\n\ninterface TakeActionProps {\n  onSaveActionAndChoices?: (action: 'stay' | 'move', choices: SavedChoices) => void;\n}\n\nconst TakeAction: React.FC<TakeActionProps> = ({ onSaveActionAndChoices }) => {\n  const [selectedAction, setSelectedAction] = useState<'stay' | 'move' | null>(null)\n  const [savedChoices, setSavedChoices] = useState<SavedChoices | null>(null)\n  \n  // Get assessment data from context\n  const { data: assessmentData } = useAssessment()\n  \n  const handleActionSelect = (action: 'stay' | 'move') => {\n    setSelectedAction(action)\n  }\n  \n  const handleSaveChoices = (choices: SavedChoices) => {\n    setSavedChoices(choices)\n    \n    // Pass choices up to parent component along with selected action\n    if (onSaveActionAndChoices && selectedAction) {\n      onSaveActionAndChoices(selectedAction, choices)\n    }\n  }\n  \n  return (\n    <div \n      id=\"take-action\" \n      className=\"min-h-screen px-4 py-10 max-w-6xl mx-auto scroll-mt-20\"\n    >\n      <div className=\"text-center mb-12\">\n        <h1 className=\"text-3xl md:text-4xl font-bold mb-2\">Take Action</h1>\n        <p className=\"text-xl\">Based on your community&apos;s opportunity score, here are some actions you can consider.</p>\n      </div>\n      <div className=\"mt-16 text-center\">\n        <h2 className=\"text-2xl md:text-3xl font-semibold mb-6\">What would you like to do?</h2>\n        \n        <div className=\"flex flex-col md:flex-row justify-center space-y-6 md:space-y-0 md:space-x-8\">\n          {/* Stay & Improve Option */}\n          <div \n            className={`\n              w-full max-w-md p-6 rounded-lg shadow-md cursor-pointer transition-all duration-300 bg-white\n              ${selectedAction === 'stay' \n                ? 'border-4 border-[#6CD9CA] scale-105' \n                : 'hover:shadow-xl hover:bg-[#6CD9CA] hover:bg-opacity-10'}\n            `}\n            onClick={() => handleActionSelect('stay')}\n          >\n            <h3 className=\"text-2xl font-bold mb-4\">Stay & Improve</h3>\n            <p className=\"mb-4\">Work with your community to improve opportunities:</p>\n            <ul className=\"list-disc list-inside mb-6 text-left\">\n              <li>Join the PTA or school board</li>\n              <li>Advocate for better community programs</li>\n              <li>Connect with local representatives</li>\n              <li>Start community initiatives</li>\n            </ul>\n            <button \n              className={`\n                w-full py-3 rounded-full text-white font-semibold transition-colors duration-300\n                ${selectedAction === 'stay' \n                  ? 'bg-[#6CD9CA]' \n                  : 'bg-[#6CD9CA] bg-opacity-70 hover:bg-opacity-100'}\n              `}\n              onClick={() => handleActionSelect('stay')}\n            >\n              Choose This Option\n            </button>\n          </div>\n          {/* Explore New Areas Option */}\n          <div \n            className={`\n              w-full max-w-md p-6 rounded-lg shadow-md cursor-pointer transition-all duration-300 bg-white\n              ${selectedAction === 'move' \n                ? 'border-4 border-[#6CD9CA] scale-105' \n                : 'hover:shadow-xl hover:bg-[#6CD9CA] hover:bg-opacity-10'}\n            `}\n            onClick={() => handleActionSelect('move')}\n          >\n            <h3 className=\"text-2xl font-bold mb-4\">Explore New Areas</h3>\n            <p className=\"mb-4\">Find communities with better opportunities:</p>\n            <ul className=\"list-disc list-inside mb-6 text-left\">\n              <li>Compare different neighborhoods</li>\n              <li>Find better schools</li>\n              <li>Discover available resources</li>\n              <li>Plan your move</li>\n            </ul>\n            <button \n              className={`\n                w-full py-3 rounded-full text-white font-semibold transition-colors duration-300\n                ${selectedAction === 'move' \n                  ? 'bg-[#6CD9CA]' \n                  : 'bg-[#6CD9CA] bg-opacity-70 hover:bg-opacity-100'}\n              `}\n              onClick={() => handleActionSelect('move')}\n            >\n              Choose This Option\n            </button>\n          </div>\n        </div>\n        {/* Action Details Section (conditionally rendered) */}\n        {selectedAction === 'stay' && (\n          <Stay onSaveChoices={handleSaveChoices} assessmentData={assessmentData} />\n        )}\n        {selectedAction === 'move' && (\n          <Move onSaveChoices={handleSaveChoices} assessmentData={assessmentData} />\n        )}\n        {/* Saved Choices Summary */}\n        {savedChoices && (\n          <div className=\"mt-12 bg-[#6CD9CA] bg-opacity-10 p-6 rounded-lg\">\n            <h3 className=\"text-2xl font-semibold mb-4\">Your Saved Choices</h3>\n            <div className=\"space-y-2\">\n              <p><strong>Town:</strong> {savedChoices.town}</p>\n              {selectedAction === 'move' && savedChoices.selectedNeighborhood && (\n                <p><strong>Selected Neighborhood:</strong> {savedChoices.selectedNeighborhood}</p>\n              )}\n              <p><strong>Selected School:</strong> {savedChoices.selectedSchool}</p>\n              <p>\n                <strong>Selected Community Programs:</strong>{' '}\n                {savedChoices.selectedCommunityPrograms.join(', ')}\n              </p>\n              {selectedAction === 'move' && savedChoices.selectedHousingType && (\n                <p><strong>Housing Type:</strong> {savedChoices.selectedHousingType}</p>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default TakeAction"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2358, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2364, "column": 0}, "map": {"version":3,"sources":["file:///Users/ericvasquez/Downloads/Local/Classes/Y4/Spring/CS1060/evasquez25-hw6/src/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { RefObject, useEffect, useRef, useState } from 'react'\nimport Welcome from '../components/Welcome'\nimport Navbar from '../components/Navbar'\nimport TakeAction from '@/components/action-plan/ActionPlan'\nimport AssessYourCommunity, { AssessProvider } from '../components/AssessQuiz'\n\ninterface SavedChoices {\n  town: string;\n  selectedSchool: string | null;\n  selectedCommunityPrograms: string[];\n  selectedNeighborhood?: string;\n  selectedHousingType?: string;\n}\n\nexport default function Home() {\n  const progressBarRef = useRef<HTMLDivElement>(null) as React.RefObject<HTMLDivElement>;\n  const [isMounted, setIsMounted] = useState(false)\n  const [selectedAction, setSelectedAction] = useState<'stay' | 'move' | null>(null)\n  const [savedChoices, setSavedChoices] = useState<SavedChoices | null>(null)\n\n  // Function to receive action and choices from TakeAction component\n  const handleActionAndChoicesSave = (action: 'stay' | 'move', choices: SavedChoices) => {\n    setSelectedAction(action)\n    setSavedChoices(choices)\n  }\n  \n  useEffect(() => {\n    const handleScroll = () => {\n      if (progressBarRef.current) {\n        const scrollTop = window.scrollY;\n        const docHeight = document.body.offsetHeight - window.innerHeight;\n        const scrollPercent = scrollTop / docHeight * 100;\n        progressBarRef.current.style.width = `${scrollPercent}%`;\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  return (\n    <AssessProvider>\n      <section className=\"bg-white w-full\">\n        <Navbar progressBarRef={progressBarRef} />\n        <div className=\"container mx-auto\">\n          <Welcome />\n          <AssessYourCommunity />\n        </div>\n      </section>\n\n      <section className=\"bg-gray-100 w-full\">\n        <div className=\"container mx-auto\">\n          <TakeAction onSaveActionAndChoices={handleActionAndChoicesSave} />\n        </div>\n      </section>\n    </AssessProvider>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAgBe,SAAS;IACtB,MAAM,iBAAiB,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAkB;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA0B;IAC7E,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAuB;IAEtE,mEAAmE;IACnE,MAAM,6BAA6B,CAAC,QAAyB;QAC3D,kBAAkB;QAClB,gBAAgB;IAClB;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,eAAe;YACnB,IAAI,eAAe,OAAO,EAAE;gBAC1B,MAAM,YAAY,OAAO,OAAO;gBAChC,MAAM,YAAY,SAAS,IAAI,CAAC,YAAY,GAAG,OAAO,WAAW;gBACjE,MAAM,gBAAgB,YAAY,YAAY;gBAC9C,eAAe,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,cAAc,CAAC,CAAC;YAC1D;QACF;QAEA,OAAO,gBAAgB,CAAC,UAAU;QAClC,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG,EAAE;IAEL,qBACE,8OAAC,gIAAA,CAAA,iBAAc;;0BACb,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC,4HAAA,CAAA,UAAM;wBAAC,gBAAgB;;;;;;kCACxB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,6HAAA,CAAA,UAAO;;;;;0CACR,8OAAC,gIAAA,CAAA,UAAmB;;;;;;;;;;;;;;;;;0BAIxB,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,kJAAA,CAAA,UAAU;wBAAC,wBAAwB;;;;;;;;;;;;;;;;;;;;;;AAK9C"}},
    {"offset": {"line": 2467, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}